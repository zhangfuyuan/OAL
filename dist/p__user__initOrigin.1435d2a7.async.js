(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[19],{"8lYi":function(e,t,i){e.exports={init:"antd-pro-pages-user-init-origin-style-init",icon:"antd-pro-pages-user-init-origin-style-icon",other:"antd-pro-pages-user-init-origin-style-other",register:"antd-pro-pages-user-init-origin-style-register",initTitle:"antd-pro-pages-user-init-origin-style-initTitle",prefixIcon:"antd-pro-pages-user-init-origin-style-prefixIcon",submit:"antd-pro-pages-user-init-origin-style-submit"}},besw:function(e,t,i){"use strict";var n=i("g09b"),a=i("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i("+L6B");var r=n(i("2/Rp"));i("5NDa");var l=n(i("5rEg"));i("Pwec");var o=n(i("CtXQ")),s=n(i("2Taf")),u=n(i("vZ4D")),c=n(i("l4Ni")),f=n(i("ujKo")),d=n(i("MhPg"));i("y8nQ");var p,g,m,y=n(i("Vl3Y")),h=i("Y2fQ"),v=a(i("q1tI")),b=n(i("3a4m")),E=i("MuoO"),S=n(i("8lYi")),O=i("ydnR");function T(e){return function(){var t,i=(0,f.default)(e);if(w()){var n=(0,f.default)(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return(0,c.default)(this,t)}}function w(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}var I=y.default.Item,M=(p=(0,E.connect)(function(e){var t=e.global.systemOrigin,i=e.loading;return{systemOrigin:t,submitting:i.effects["global/updateSystemOrigin"]}}),p((m=function(e){(0,d.default)(i,e);var t=T(i);function i(){var e;(0,s.default)(this,i);for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return e=t.call.apply(t,[this].concat(a)),e.handleSubmit=function(t){t.preventDefault();var i=e.props,n=i.form,a=i.dispatch;n.validateFields(function(e,t){e||a({type:"global/updateSystemOrigin",payload:{ip:t.ip}}).then(function(e){e&&e.res>0?b.default.push("/user/".concat(localStorage.getItem(O.SYSTEM_PATH)||"admin","/login")):console.log(e)}).catch(function(e){console.log(e)})})},e.checkOrigin=function(e,t,i){t&&(t.indexOf(".")<1||!/^http(s)?:\/\//.test(t))&&i((0,h.formatMessage)({id:"oal.init.enterIpErrorTips"})),i()},e}return(0,u.default)(i,[{key:"UNSAFE_componentWillMount",value:function(){var e=this.props.dispatch;e({type:"global/getSystemVersion"}),e({type:"login/getOrgInfo",payload:localStorage.getItem(O.SYSTEM_PATH)||"admin"})}},{key:"render",value:function(){var e=this.props,t=e.systemOrigin,i=e.form,n=e.submitting,a=i.getFieldDecorator;return v.default.createElement("div",{className:S.default.init},v.default.createElement("h3",{className:S.default.initTitle},v.default.createElement(h.FormattedMessage,{id:"menu.initOrigin"})),v.default.createElement(y.default,{onSubmit:this.handleSubmit},v.default.createElement(I,null,a("ip",{rules:[{required:!0,message:(0,h.formatMessage)({id:"oal.init.enterIpTips"})},{validator:this.checkOrigin}],initialValue:t||window.location.origin})(v.default.createElement(l.default,{size:"large",prefix:v.default.createElement(o.default,{type:"global",className:S.default.prefixIcon}),id:"ip",placeholder:(0,h.formatMessage)({id:"oal.init.enterIpTips"})}))),v.default.createElement(I,null,v.default.createElement(r.default,{size:"large",className:S.default.submit,type:"primary",htmlType:"submit",loading:n},v.default.createElement(h.FormattedMessage,{id:"oal.common.nextStep"})))))}}]),i}(v.Component),g=m))||g),x=y.default.create()(M);t.default=x}}]);