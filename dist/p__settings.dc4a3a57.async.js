(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[15],{"/qDX":function(e,t,a){e.exports={"ant-typography":"ant-typography","ant-typography-secondary":"ant-typography-secondary","ant-typography-warning":"ant-typography-warning","ant-typography-danger":"ant-typography-danger","ant-typography-disabled":"ant-typography-disabled","ant-typography-ellipsis":"ant-typography-ellipsis","ant-typography-copy":"ant-typography-copy","ant-typography-edit":"ant-typography-edit","ant-typography-expand":"ant-typography-expand","ant-typography-copy-success":"ant-typography-copy-success","ant-typography-edit-content":"ant-typography-edit-content","ant-typography-edit-content-confirm":"ant-typography-edit-content-confirm","ant-typography-ellipsis-single-line":"ant-typography-ellipsis-single-line","ant-typography-ellipsis-multiple-line":"ant-typography-ellipsis-multiple-line"}},"2V+q":function(e,t,a){"use strict";var n=a("tAuX"),r=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("Mwp2");var o=r(a("VXEj")),i=r(a("2Taf")),l=r(a("vZ4D")),s=r(a("l4Ni")),u=r(a("ujKo")),c=r(a("MhPg")),f=n(a("q1tI")),d=a("Y2fQ");function p(e){return function(){var t,a=(0,u.default)(e);if(m()){var n=(0,u.default)(this).constructor;t=Reflect.construct(a,arguments,n)}else t=a.apply(this,arguments);return(0,s.default)(this,t)}}function m(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}d.FormattedMessage,d.FormattedMessage,d.FormattedMessage;var y=function(e){(0,c.default)(a,e);var t=p(a);function a(){var e;(0,i.default)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),e.state={},e.handleModify=function(){var t=e.props.openModal;t()},e.getData=function(){return[{title:(0,d.formatMessage)({id:"oal.settings.accountPassword"}),actions:[f.default.createElement("a",{key:"modify",onClick:function(){return e.handleModify()}},f.default.createElement(d.FormattedMessage,{id:"oal.common.modify"}))]}]},e}return(0,l.default)(a,[{key:"render",value:function(){var e=this.getData();return f.default.createElement(f.Fragment,null,f.default.createElement(o.default,{itemLayout:"horizontal",dataSource:e,renderItem:function(e){return f.default.createElement(o.default.Item,{actions:e.actions},f.default.createElement(o.default.Item.Meta,{title:e.title,description:e.description}))}}))}}]),a}(f.Component),g=y;t.default=g},"2zjD":function(e,t,a){"use strict";var n=a("tAuX"),r=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("g9YV");var o=r(a("wCAj"));a("+L6B");var i=r(a("2/Rp"));a("P2fV");var l=r(a("NJEC"));a("/zsF");var s=r(a("PArb"));a("Q9mQ");var u=r(a("diRs"));a("Pwec");var c=r(a("CtXQ")),f=n(a("q1tI")),d=a("Y2fQ"),p=function(e){var t=e.data,a=e.loading,n=e.toAdd,r=e.toDelete,p=e.toEdit,m=[{title:(0,d.formatMessage)({id:"oal.common.name"}),dataIndex:"name"},{title:"key",dataIndex:"key"},{title:(0,d.formatMessage)({id:"oal.settings.controlTypes"}),key:"type",render:function(e,t){var a=t&&t.componentInfo&&t.componentInfo.type||1,n=t&&t.componentInfo&&t.componentInfo.data||[],r=(0,d.formatMessage)({id:"oal.settings.textarea"});return 2===a&&(r=(0,d.formatMessage)({id:"oal.settings.dropdown"})),f.default.createElement("span",null,r,2===a&&n.length>0?f.default.createElement(u.default,{title:(0,d.formatMessage)({id:"oal.settings.dropdownOption"}),content:n.map(function(e){return f.default.createElement("p",{key:"option_".concat(e.value)},f.default.createElement("span",{style:{marginRight:"16px"}},"value: ",e.value),f.default.createElement("span",null,"text: ",e.text))})},f.default.createElement("a",{href:"#",style:{marginLeft:"16px"}},f.default.createElement(c.default,{type:"unordered-list"}))):null)}},{title:(0,d.formatMessage)({id:"oal.settings.isRequired"}),key:"required",render:function(e,t){return f.default.createElement("span",null,t&&t.required?(0,d.formatMessage)({id:"oal.common.yes"}):(0,d.formatMessage)({id:"oal.common.no"}))}},{title:(0,d.formatMessage)({id:"oal.settings.isOnly"}),key:"isUnique",render:function(e,t){return f.default.createElement("span",null,t&&t.isUnique?(0,d.formatMessage)({id:"oal.common.yes"}):(0,d.formatMessage)({id:"oal.common.no"}))}},{title:(0,d.formatMessage)({id:"oal.settings.reportQuery"}),key:"reportQuery",render:function(e,t){return f.default.createElement("span",null,t&&t.reportQuery?(0,d.formatMessage)({id:"oal.common.yes"}):(0,d.formatMessage)({id:"oal.common.no"}))}},{title:(0,d.formatMessage)({id:"oal.common.handle"}),key:"action",width:120,render:function(e,t){return f.default.createElement("span",null,f.default.createElement("a",{href:"#",onClick:function(){return p(t)}},f.default.createElement(d.FormattedMessage,{id:"oal.common.edit"})),f.default.createElement(s.default,{type:"vertical"}),f.default.createElement(l.default,{title:(0,d.formatMessage)({id:"oal.settings.confirmDelete"}),okText:(0,d.formatMessage)({id:"oal.common.confirm"}),cancelText:(0,d.formatMessage)({id:"oal.common.cancel"}),onConfirm:function(){return r(t)}},f.default.createElement("a",{href:"#"},f.default.createElement(d.FormattedMessage,{id:"oal.common.delete"}))))}}];return f.default.createElement(f.Fragment,null,f.default.createElement(i.default,{type:"dashed",style:{width:"100%",marginBottom:8},icon:"plus",onClick:n},f.default.createElement(d.FormattedMessage,{id:"oal.common.new"})),f.default.createElement(o.default,{rowKey:function(e){return e._id},columns:m,dataSource:t,loading:a,pagination:!1}))},m=p;t.default=m},CDhv:function(e,t,a){e.exports={baseView:"antd-pro-pages-settings-components-base-view-baseView",left:"antd-pro-pages-settings-components-base-view-left",right:"antd-pro-pages-settings-components-base-view-right",avatar_title:"antd-pro-pages-settings-components-base-view-avatar_title",avatar:"antd-pro-pages-settings-components-base-view-avatar",button_view:"antd-pro-pages-settings-components-base-view-button_view"}},DhTK:function(e,t,a){"use strict";var n=a("tAuX"),r=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("2qtc");var o=r(a("kLXV"));a("sRBo");var i=r(a("kaz8"));a("y8nQ");var l=r(a("Vl3Y"));a("5NDa");var s=r(a("5rEg")),u=r(a("p0pE")),c=n(a("q1tI")),f=a("Y2fQ"),d={labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:16}}},p=function(e){var t=e.form,a=e.visible,n=e.currentUser,r=e.handleSubmit,p=e.confirmLoading,m=e.handleCancel,y=t.getFieldDecorator,g=function(){t.validateFields(function(e,t){if(!e){var a=(0,u.default)({},t,{isSsl:t.isSsl?"1":"0"});n&&n.org&&(a.orgId=n.org._id),r(a)}})},v=function(e,t,a){var n=/[<>|*?/:\s]/;t&&n.test(t)&&a((0,f.formatMessage)({id:"oal.common.illegalCharacterTips"})),a()};return c.default.createElement(o.default,{destroyOnClose:!0,title:(0,f.formatMessage)({id:"oal.settings.sendSettings"}),visible:a,onOk:g,confirmLoading:p,onCancel:m,maskClosable:!1},c.default.createElement(l.default,d,c.default.createElement(l.default.Item,{label:(0,f.formatMessage)({id:"oal.settings.sendMail"})},y("username",{rules:[{required:!0,message:(0,f.formatMessage)({id:"oal.common.pleaseEnter"})},{max:254,message:(0,f.formatMessage)({id:"oal.common.maxLength"},{num:"254"})},{type:"email",message:(0,f.formatMessage)({id:"oal.device.incorrectFormat"})},{validator:v}],initialValue:n&&n.alarmSet&&n.alarmSet.username||""})(c.default.createElement(s.default,{placeholder:(0,f.formatMessage)({id:"oal.settings.sendMail"})}))),c.default.createElement(l.default.Item,{label:(0,f.formatMessage)({id:"oal.settings.passwordOrCode"})},y("password",{rules:[{required:!0,message:(0,f.formatMessage)({id:"oal.common.pleaseEnter"})},{max:254,message:(0,f.formatMessage)({id:"oal.common.maxLength"},{num:"254"})},{validator:v}],initialValue:n&&n.alarmSet&&n.alarmSet.password||""})(c.default.createElement(s.default.Password,{placeholder:(0,f.formatMessage)({id:"oal.settings.passwordOrCode"})}))),c.default.createElement(l.default.Item,{label:(0,f.formatMessage)({id:"oal.settings.SMTPServer"})},y("smtpServer",{rules:[{required:!0,message:(0,f.formatMessage)({id:"oal.common.pleaseEnter"})},{max:254,message:(0,f.formatMessage)({id:"oal.common.maxLength"},{num:"254"})},{pattern:/.+[.].+/,message:(0,f.formatMessage)({id:"oal.device.incorrectFormat"})},{validator:v}],initialValue:n&&n.alarmSet&&n.alarmSet.smtpServer||""})(c.default.createElement(s.default,{placeholder:(0,f.formatMessage)({id:"oal.settings.SMTPServer"})}))),c.default.createElement(l.default.Item,{label:(0,f.formatMessage)({id:"oal.settings.port"})},y("port",{rules:[{required:!0,message:(0,f.formatMessage)({id:"oal.common.pleaseEnter"})},{max:3,message:(0,f.formatMessage)({id:"oal.common.maxLength"},{num:"3"})},{pattern:/^[\d]{1,3}$/,message:(0,f.formatMessage)({id:"oal.device.incorrectFormat"})}],initialValue:n&&n.alarmSet&&n.alarmSet.port||""})(c.default.createElement(s.default,{placeholder:(0,f.formatMessage)({id:"oal.settings.port"})}))),c.default.createElement(l.default.Item,{label:(0,f.formatMessage)({id:"oal.settings.encrypt"})},y("isSsl",{valuePropName:"checked",initialValue:!n||!n.alarmSet||"0"!==n.alarmSet.isSsl})(c.default.createElement(i.default,null,"SSL")))))},m=l.default.create({name:"modifyAlarmSendSettings"})(p),y=m;t.default=y},F0np:function(e,t,a){"use strict";var n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("2qtc");var r=n(a("kLXV"));a("y8nQ");var o=n(a("Vl3Y"));a("5NDa");var i=n(a("5rEg")),l=n(a("q1tI")),s=a("ydnR"),u=a("Y2fQ"),c={labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:16}}},f=function(e){var t=e.form,a=e.visible,n=e.handleSubmit,f=e.confirmLoading,d=e.handleCancel,p=t.getFieldDecorator,m=function(){t.validateFields(function(e,t){if(!e){var a=t;n(a)}})},y=function(e,a,n){a&&a!==t.getFieldValue("newpassword")?n((0,u.formatMessage)({id:"oal.settings.differentFromNewPassword"})):n()};return l.default.createElement(r.default,{destroyOnClose:!0,title:(0,u.formatMessage)({id:"oal.common.modify"}),visible:a,onOk:m,confirmLoading:f,onCancel:d,maskClosable:!1},l.default.createElement(o.default,c,l.default.createElement(o.default.Item,{label:(0,u.formatMessage)({id:"oal.settings.oldPassword"})},p("oldpassword",{rules:[{required:!0,message:(0,u.formatMessage)({id:"oal.user-login.enterPasswordTips"})},{pattern:s.PSW_REG,message:(0,u.formatMessage)({id:"oal.common.enterPasswordError"})}]})(l.default.createElement(i.default.Password,{placeholder:(0,u.formatMessage)({id:"oal.settings.oldPassword"})}))),l.default.createElement(o.default.Item,{label:(0,u.formatMessage)({id:"oal.settings.newPassword"})},p("newpassword",{rules:[{required:!0,message:(0,u.formatMessage)({id:"oal.user-login.enterPasswordTips"})},{pattern:s.PSW_REG,message:(0,u.formatMessage)({id:"oal.common.enterPasswordError"})}]})(l.default.createElement(i.default.Password,{placeholder:(0,u.formatMessage)({id:"oal.settings.newPassword"})}))),l.default.createElement(o.default.Item,{label:(0,u.formatMessage)({id:"oal.settings.confirmPassword"})},p("confirmpassword",{rules:[{required:!0,message:(0,u.formatMessage)({id:"oal.user-login.enterPasswordTips"})},{pattern:s.PSW_REG,message:(0,u.formatMessage)({id:"oal.common.enterPasswordError"})},{validator:y}]})(l.default.createElement(i.default.Password,{placeholder:(0,u.formatMessage)({id:"oal.settings.confirmPassword"})})))))},d=o.default.create({name:"modifyPsw"})(f),p=d;t.default=p},FMlR:function(e,t,a){"use strict";var n=a("tAuX"),r=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("2qtc");var o=r(a("kLXV"));a("BoS7");var i=r(a("Sdc0"));a("+L6B");var l=r(a("2/Rp"));a("7Kak");var s=r(a("9yH6"));a("y8nQ");var u=r(a("Vl3Y"));a("5NDa");var c=r(a("5rEg"));a("miYZ");var f=r(a("tsqr")),d=r(a("qIgq")),p=n(a("q1tI")),m=r(a("eToR")),y=a("Y2fQ"),g={labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:16}}},v=function(e){var t=e.form,a=e.visible,n=e.handleSubmit,r=e.confirmLoading,v=e.handleCancel,h=e.faceKey,b=t.getFieldDecorator,E=(0,p.useState)(!1),S=(0,d.default)(E,2),M=S[0],C=S[1],w=h&&h.componentInfo&&h.componentInfo.data||[],x=(0,p.useState)([]),O=(0,d.default)(x,2),k=O[0],P=O[1],I=(0,y.formatMessage)({id:"oal.settings.addFaceAttributes"}),N=!1;h&&h.name&&(I=(0,y.formatMessage)({id:"oal.settings.modifyAttributes"}),N=!0);var R=function(){t.validateFields(function(e,t){if(!e){var a=t;if(2===t.type){if(0===w.length&&0===k.length)return void f.default.error((0,y.formatMessage)({id:"oal.settings.dropdownOptionNotConfigTips"}));if(w.length>0&&0===k.length)a.componentInfo={type:2,data:w};else{var r=[];k.map(function(e){r.push({value:e.value,text:e.text})}),a.componentInfo={type:2,data:r}}}else a.componentInfo={type:1};N&&(a._id=h._id),n(a,function(){P([])})}})},j=function(e){e.stopPropagation(),C(!0)},D=function(e,t){P(e),C(!1),t()},T=function(e){C(!1),e()},V=(0,y.formatMessage)({id:"oal.settings.newOrModifyVal"}),A=t.getFieldsValue();return p.default.createElement(o.default,{destroyOnClose:!0,title:I,visible:a,onOk:R,confirmLoading:r,onCancel:v,maskClosable:!1},p.default.createElement(u.default,g,p.default.createElement(u.default.Item,{label:(0,y.formatMessage)({id:"oal.common.name"})},b("name",{rules:[{required:!0,message:(0,y.formatMessage)({id:"oal.common.enterName"})},{max:50,message:(0,y.formatMessage)({id:"oal.common.maxLength"},{num:"50"})}],initialValue:h&&h.name})(p.default.createElement(c.default,{placeholder:(0,y.formatMessage)({id:"oal.common.name"})}))),p.default.createElement(u.default.Item,{label:"key"},b("key",{rules:[{required:!0,message:(0,y.formatMessage)({id:"oal.settings.enterKey"})},{pattern:/^\w+$/,message:(0,y.formatMessage)({id:"oal.settings.enterKeyError"})},{max:50,message:(0,y.formatMessage)({id:"oal.common.maxLength"},{num:"50"})}],initialValue:h&&h.key})(p.default.createElement(c.default,{placeholder:"key",disabled:N}))),p.default.createElement(u.default.Item,{label:(0,y.formatMessage)({id:"oal.settings.controlTypes"})},b("type",{initialValue:h&&h.componentInfo&&h.componentInfo.type||1})(p.default.createElement(s.default.Group,null,p.default.createElement(s.default,{value:1},p.default.createElement(y.FormattedMessage,{id:"oal.settings.inputBox"})),p.default.createElement(s.default,{value:2},p.default.createElement(y.FormattedMessage,{id:"oal.settings.dropdownSelectionBox"})))),1===t.getFieldValue("type")?null:p.default.createElement(l.default,{type:"link",onClick:j},p.default.createElement(y.FormattedMessage,{id:"oal.settings.configOption"}))),p.default.createElement(u.default.Item,{extra:A.required?"".concat(V).concat((0,y.formatMessage)({id:"oal.common.required"})):"".concat(V).concat((0,y.formatMessage)({id:"oal.common.notRequired"})),label:(0,y.formatMessage)({id:"oal.settings.isRequired"})},b("required",{valuePropName:"checked",initialValue:h&&h.required||!1})(p.default.createElement(i.default,null))),p.default.createElement(u.default.Item,{extra:A.isUnique?"".concat(V).concat((0,y.formatMessage)({id:"oal.settings.uniqueInSystem"})):"".concat(V).concat((0,y.formatMessage)({id:"oal.settings.nonUniqueness"})),label:(0,y.formatMessage)({id:"oal.settings.uniqueConstraint"})},b("isUnique",{valuePropName:"checked",initialValue:h&&h.isUnique||!1})(p.default.createElement(i.default,null))),p.default.createElement(u.default.Item,{extra:A.readOnly?(0,y.formatMessage)({id:"oal.settings.existingDataCannotModify"}):(0,y.formatMessage)({id:"oal.settings.existingDataCanModify"}),label:(0,y.formatMessage)({id:"oal.settings.readOnly"})},b("readOnly",{valuePropName:"checked",initialValue:h&&h.readOnly||!1})(p.default.createElement(i.default,null))),p.default.createElement(u.default.Item,{extra:A.reportQuery?(0,y.formatMessage)({id:"oal.settings.addToFilterConditionOfAttendanceReport"}):"",label:(0,y.formatMessage)({id:"oal.settings.reportQuery"})},b("reportQuery",{valuePropName:"checked",initialValue:h&&h.reportQuery||!1})(p.default.createElement(i.default,null)))),p.default.createElement(m.default,{visible:M,optionData:N?w:k,handleCancel:T,handleSubmit:D}))},h=u.default.create({name:"faceKeyModal"})(v),b=h;t.default=b},KD5o:function(e,t,a){"use strict";var n=a("tAuX"),r=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("+L6B");var o=r(a("2/Rp"));a("5NDa");var i=r(a("5rEg")),l=r(a("2Taf")),s=r(a("vZ4D")),u=r(a("l4Ni")),c=r(a("ujKo")),f=r(a("MhPg"));a("y8nQ");var d=r(a("Vl3Y")),p=n(a("q1tI")),m=a("+n12"),y=r(a("CDhv")),g=a("Y2fQ");function v(e){return function(){var t,a=(0,c.default)(e);if(h()){var n=(0,c.default)(this).constructor;t=Reflect.construct(a,arguments,n)}else t=a.apply(this,arguments);return(0,u.default)(this,t)}}function h(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}var b=d.default.Item,E=function(e){(0,f.default)(a,e);var t=v(a);function a(){var e;(0,l.default)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),e.handlerSubmit=function(){var t=e.props,a=t.form,n=t.toSubmit;a.validateFields(function(e,t){e||n(t)})},e.checkMobile=function(e,t,a){t&&!(0,m.validateMobile)(t)&&a((0,g.formatMessage)({id:"oal.common.enterPhoneNumber"})),a()},e.checkIllegalCharacter=function(e,t,a){var n=/[<>|*?/:\s]/;t&&n.test(t)&&a((0,g.formatMessage)({id:"oal.common.illegalCharacterTips"})),a()},e}return(0,s.default)(a,[{key:"render",value:function(){var e=this.props,t=e.form.getFieldDecorator,a=e.currentUser,n=e.loading;return p.default.createElement("div",{className:y.default.baseView,ref:this.getViewDom},p.default.createElement("div",{className:y.default.left},p.default.createElement(d.default,{layout:"vertical"},p.default.createElement(b,{label:(0,g.formatMessage)({id:"oal.settings.nameOfAccount"})},t("userName",{rules:[{required:!0,message:(0,g.formatMessage)({id:"oal.user-manage.enterAccountNameTips"})},{pattern:/^[a-zA-Z]+$/,message:(0,g.formatMessage)({id:"oal.user-manage.enterUsernameError"})},{max:10,message:(0,g.formatMessage)({id:"oal.common.maxLength"},{num:"10"})}],initialValue:a&&a.userName||""})(p.default.createElement(i.default,{placeholder:(0,g.formatMessage)({id:"oal.settings.nameOfAccount"}),disabled:!0}))),p.default.createElement(b,{label:(0,g.formatMessage)({id:"oal.common.nickname"})},t("nickName",{rules:[{required:!0,message:(0,g.formatMessage)({id:"oal.user-manage.enterNicknameTips"})},{max:20,message:(0,g.formatMessage)({id:"oal.common.maxLength"},{num:"20"})},{validator:this.checkIllegalCharacter}],initialValue:a&&a.profile&&a.profile.nickName||""})(p.default.createElement(i.default,{placeholder:(0,g.formatMessage)({id:"oal.common.nickname"})}))),p.default.createElement(o.default,{type:"primary",onClick:this.handlerSubmit,loading:n},p.default.createElement(g.FormattedMessage,{id:"oal.common.save"})))))}}]),a}(p.Component),S=d.default.create()(E);t.default=S},"LM/6":function(e,t,a){"use strict";var n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("2qtc");var r=n(a("kLXV"));a("y8nQ");var o=n(a("Vl3Y"));a("5NDa");var i=n(a("5rEg")),l=n(a("q1tI")),s=a("Y2fQ"),u={labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:16}}},c=function(e){var t=e.form,a=e.visible,n=e.currentUser,c=e.handleSubmit,f=e.confirmLoading,d=e.handleCancel,p=t.getFieldDecorator,m=function(){t.validateFields(function(e,t){if(!e){var a=t;c(a)}})},y=function(e,t,a){var n=/[<>|*?/:\s]/;t&&n.test(t)&&a((0,s.formatMessage)({id:"oal.common.illegalCharacterTips"})),a()};return l.default.createElement(r.default,{destroyOnClose:!0,title:(0,s.formatMessage)({id:"oal.common.modify"}),visible:a,onOk:m,confirmLoading:f,onCancel:d,maskClosable:!1},l.default.createElement(o.default,u,l.default.createElement(o.default.Item,{label:(0,s.formatMessage)({id:"oal.settings.sysname"})},p("saasName",{rules:[{required:!0,message:(0,s.formatMessage)({id:"oal.settings.enterSysnameTips"})},{max:20,message:(0,s.formatMessage)({id:"oal.common.maxLength"},{num:"20"})},{validator:y}],initialValue:n&&n.org&&n.org.saasName})(l.default.createElement(i.default,{placeholder:(0,s.formatMessage)({id:"oal.settings.sysname"})})))))},f=o.default.create({name:"modifySysName"})(c),d=f;t.default=d},NJEC:function(e,t,a){"use strict";a.r(t);var n=a("q1tI"),r=a("VCL8"),o=a("3S7+"),i=a("CtXQ"),l=a("2/Rp"),s=a("YMnH"),u=a("ZvpZ"),c=a("H84U");function f(e){"@babel/helpers - typeof";return f="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function d(){return d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},d.apply(this,arguments)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function y(e,t,a){return t&&m(e.prototype,t),a&&m(e,a),e}function g(e){return function(){var t,a=E(e);if(b()){var n=E(this).constructor;t=Reflect.construct(a,arguments,n)}else t=a.apply(this,arguments);return v(this,t)}}function v(e,t){return!t||"object"!==f(t)&&"function"!==typeof t?h(e):t}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function E(e){return E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},E(e)}function S(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&M(e,t)}function M(e,t){return M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},M(e,t)}var C=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a},w=function(e){S(a,e);var t=g(a);function a(e){var r;return p(this,a),r=t.call(this,e),r.onConfirm=function(e){r.setVisible(!1,e);var t=r.props.onConfirm;t&&t.call(h(r),e)},r.onCancel=function(e){r.setVisible(!1,e);var t=r.props.onCancel;t&&t.call(h(r),e)},r.onVisibleChange=function(e){var t=r.props.disabled;t||r.setVisible(e)},r.saveTooltip=function(e){r.tooltip=e},r.renderOverlay=function(e,t){var a=r.props,o=a.okButtonProps,i=a.cancelButtonProps,s=a.title,u=a.cancelText,c=a.okText,f=a.okType,p=a.icon;return n["createElement"]("div",null,n["createElement"]("div",{className:"".concat(e,"-inner-content")},n["createElement"]("div",{className:"".concat(e,"-message")},p,n["createElement"]("div",{className:"".concat(e,"-message-title")},s)),n["createElement"]("div",{className:"".concat(e,"-buttons")},n["createElement"](l["default"],d({onClick:r.onCancel,size:"small"},i),u||t.cancelText),n["createElement"](l["default"],d({onClick:r.onConfirm,type:f,size:"small"},o),c||t.okText))))},r.renderConfirm=function(e){var t=e.getPrefixCls,a=r.props,i=a.prefixCls,l=a.placement,c=C(a,["prefixCls","placement"]),f=t("popover",i),p=n["createElement"](s["a"],{componentName:"Popconfirm",defaultLocale:u["a"].Popconfirm},function(e){return r.renderOverlay(f,e)});return n["createElement"](o["default"],d({},c,{prefixCls:f,placement:l,onVisibleChange:r.onVisibleChange,visible:r.state.visible,overlay:p,ref:r.saveTooltip}))},r.state={visible:e.visible},r}return y(a,[{key:"getPopupDomNode",value:function(){return this.tooltip.getPopupDomNode()}},{key:"setVisible",value:function(e,t){var a=this.props;"visible"in a||this.setState({visible:e});var n=a.onVisibleChange;n&&n(e,t)}},{key:"render",value:function(){return n["createElement"](c["a"],null,this.renderConfirm)}}],[{key:"getDerivedStateFromProps",value:function(e){return"visible"in e?{visible:e.visible}:"defaultVisible"in e?{visible:e.defaultVisible}:null}}]),a}(n["Component"]);w.defaultProps={transitionName:"zoom-big",placement:"top",trigger:"click",okType:"primary",icon:n["createElement"](i["default"],{type:"exclamation-circle",theme:"filled"}),disabled:!1},Object(r["polyfill"])(w),t["default"]=w},P2fV:function(e,t,a){"use strict";a.r(t);a("cIOH"),a("Q9mQ"),a("+L6B")},"Ph/F":function(e,t,a){"use strict";var n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("2qtc");var r=n(a("kLXV"));a("y8nQ");var o=n(a("Vl3Y"));a("14J3");var i=n(a("BMrR"));a("jCWc");var l=n(a("kPKH"));a("sRBo");var s=n(a("kaz8")),u=n(a("q1tI")),c=a("Y2fQ"),f=function(e){var t=e.form,a=e.visible,n=e.currentUser,f=e.handleSubmit,d=e.confirmLoading,p=e.handleCancel,m=t.getFieldDecorator,y=function(){t.validateFields(function(e,t){if(!e){var a={alarmEvents:t&&t.alarmEvents.join(",")||""};n&&n.org&&(a.orgId=n.org._id),a.alarmEventsTranslation={temperatureAnomalies:(0,c.formatMessage)({id:"oal.settings.temperatureAnomalies"}),notWearMask:(0,c.formatMessage)({id:"oal.settings.notWearMask"})},f(a)}})};return u.default.createElement(r.default,{destroyOnClose:!0,title:(0,c.formatMessage)({id:"oal.settings.alarmEvents"}),visible:a,onOk:y,confirmLoading:d,onCancel:p,maskClosable:!1},u.default.createElement("div",{className:"oal-alarm-events"},u.default.createElement(o.default,null,u.default.createElement(o.default.Item,{label:""},m("alarmEvents",{initialValue:n&&n.alarmSet&&n.alarmSet.alarmEvents&&n.alarmSet.alarmEvents.split(",")||["",""]})(u.default.createElement(s.default.Group,{style:{width:"100%"}},u.default.createElement(i.default,null,u.default.createElement(l.default,{span:24},u.default.createElement(s.default,{value:"temperatureAnomalies"},u.default.createElement(c.FormattedMessage,{id:"oal.settings.temperatureAnomalies"}))),u.default.createElement(l.default,{span:24},u.default.createElement(s.default,{value:"notWearMask"},u.default.createElement(c.FormattedMessage,{id:"oal.settings.notWearMask"}))))))))))},d=o.default.create({name:"modifyAlarmEvents"})(f),p=d;t.default=p},Q9mQ:function(e,t,a){"use strict";a.r(t);a("cIOH"),a("UADf")},QbM5:function(e,t,a){e.exports={"ant-input-number":"ant-input-number","ant-input-number-lg":"ant-input-number-lg","ant-input-number-sm":"ant-input-number-sm","ant-input-number-handler":"ant-input-number-handler","ant-input-number-handler-down-inner":"ant-input-number-handler-down-inner","ant-input-number-handler-up-inner":"ant-input-number-handler-up-inner","ant-input-number-handler-down-inner-icon":"ant-input-number-handler-down-inner-icon","ant-input-number-handler-up-inner-icon":"ant-input-number-handler-up-inner-icon","ant-input-number-focused":"ant-input-number-focused","ant-input-number-disabled":"ant-input-number-disabled","ant-input-number-input":"ant-input-number-input","ant-input-number-handler-wrap":"ant-input-number-handler-wrap","ant-input-number-handler-up":"ant-input-number-handler-up","ant-input-number-handler-down":"ant-input-number-handler-down","ant-input-number-handler-down-disabled":"ant-input-number-handler-down-disabled","ant-input-number-handler-up-disabled":"ant-input-number-handler-up-disabled"}},SMui:function(e,t,a){"use strict";var n=a("g09b"),r=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("miYZ");var o=n(a("tsqr")),i=n(a("p0pE")),l=n(a("2Taf")),s=n(a("vZ4D")),u=n(a("l4Ni")),c=n(a("ujKo")),f=n(a("MhPg"));a("lUTK");var d,p,m,y=n(a("BvKs")),g=r(a("q1tI")),v=a("Hx5s"),h=a("MuoO"),b=n(a("KD5o")),E=n(a("2V+q")),S=n(a("s3tJ")),M=n(a("j2ss")),C=(n(a("ldq+")),n(a("F0np"))),w=n(a("LM/6")),x=n(a("DhTK")),O=n(a("dYSE")),k=n(a("Ph/F")),P=(n(a("2zjD")),n(a("FMlR")),n(a("kfMY")),n(a("Wf8k"))),I=a("Y2fQ"),N=a("+n12");function R(e){return function(){var t,a=(0,c.default)(e);if(j()){var n=(0,c.default)(this).constructor;t=Reflect.construct(a,arguments,n)}else t=a.apply(this,arguments);return(0,u.default)(this,t)}}function j(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}var D=y.default.Item,T=(d=(0,h.connect)(function(e){var t=e.user,a=e.settingInfo,n=e.settings,r=e.faceKey,o=e.global.systemVersion,i=e.loading;return{currentUser:t.currentUser,settingInfo:a,systemVersion:o,devInfo:a.devInfo,devInfoLoading:i.effects["settingInfo/getDevInfo"],settings:n,faceKeyList:r.faceKeyList,faceKeyListLoading:i.effects["faceKey/faceKeyList"],addFaceKeyLoading:i.effects["faceKey/addFaceKey"],sysConfigs:a.sysConfigs,modifyPasswordLoading:i.effects["user/modifyPassword"],modifySaasInfoLoading:i.effects["user/modifySaasInfo"],baseViewLoading:i.effects["user/modifyUser"],alarmSendSettingsLoading:i.effects["settingInfo/alarmSendSettings"],alarmReceiveSettingsLoading:i.effects["settingInfo/alarmReceiveSettings"],alarmEventsLoading:i.effects["settingInfo/alarmEvents"]}}),d((m=function(e){(0,f.default)(a,e);var t=R(a);function a(e){var n;(0,l.default)(this,a),n=t.call(this,e),n.loadDevInfo=function(){var e=n.props.dispatch;e({type:"settingInfo/getDevInfo"})},n.loadSysConfig=function(){var e=n.props.dispatch;e({type:"settingInfo/toGetSysConfigs"})},n.getMenu=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=n.state.menuMap;return Object.keys(t).map(function(a){return e||"system"!==a&&"alarm"!==a?g.default.createElement(D,{key:a},t[a]):null})},n.getRightTitle=function(){var e=n.state,t=e.selectKey,a=e.menuMap;return a[t]},n.selectKey=function(e){n.setState({selectKey:e}),"developer"===e?n.loadDevInfo():"faceKey"===e&&n.loadFaceKeyList()},n.submitBaseInfo=function(e){var t=n.props,a=t.dispatch,r=t.currentUser;a({type:"user/modifyUser",payload:(0,i.default)({userId:r._id},e)}).then(function(e){e&&e.res>0&&o.default.success((0,I.formatMessage)({id:"oal.common.modifySuccessfully"}))})},n.applyDevAccount=function(){var e=n.props.dispatch;e({type:"settingInfo/applyDevAccount"}).then(function(e){e&&e.res>0&&o.default.success((0,I.formatMessage)({id:"oal.settings.applicationApproved"}))})},n.resetSecret=function(){var e=n.props.dispatch;e({type:"settingInfo/resetSecret"}).then(function(e){e&&e.res>0&&o.default.success((0,I.formatMessage)({id:"oal.settings.resetSuccessfully"}))})},n.openModifyPswModal=function(){n.setState({modifyPswVisible:!0})},n.closeModifyPswModal=function(){n.setState({modifyPswVisible:!1})},n.submitModifyPsw=function(e){var t=n.props,a=t.dispatch,r=t.currentUser,l={oldpassword:(0,N.pswBase64Thrice)(e.oldpassword),newpassword:(0,N.pswBase64Thrice)(e.newpassword)};a({type:"user/modifyPassword",payload:(0,i.default)({userId:r._id},l)}).then(function(e){e&&e.res>0&&(o.default.success((0,I.formatMessage)({id:"oal.settings.modifyPasswordSuccessfullyTips"})),a({type:"login/logout"}))})},n.openModifySysName=function(){n.setState({modifySysNameVisible:!0})},n.closeModifySysName=function(){n.setState({modifySysNameVisible:!1})},n.submitSysName=function(e){var t=n.props,a=t.dispatch,r=t.currentUser;a({type:"user/modifySaasInfo",payload:(0,i.default)({orgId:r.org._id},e)}).then(function(t){t&&t.res>0&&(o.default.success((0,I.formatMessage)({id:"oal.common.modifySuccessfully"})),n.closeModifySysName(),a({type:"settings/changeSettingInfo",payload:{title:t.data&&t.data.org&&t.data.org.saasName||e.saasName}}))})},n.submitSysIcons=function(e){var t=n.props,a=t.dispatch,r=t.currentUser.org;a({type:"user/modifySaasIconsUrl",payload:{org:(0,i.default)({},r,{saasIconsUrl:e})}}).then(function(){o.default.success((0,I.formatMessage)({id:"oal.common.modifySuccessfully"})),a({type:"settings/changeSettingInfo",payload:{logo:e}})})},n.openModifyAlarmSendSettings=function(){n.setState({modifyAlarmSendSettingsVisible:!0})},n.closeModifyAlarmSendSettings=function(){n.setState({modifyAlarmSendSettingsVisible:!1})},n.submitAlarmSendSettings=function(e){var t=n.props.dispatch;t({type:"settingInfo/alarmSendSettings",payload:e}).then(function(e){e&&e.res>0&&e.data&&(o.default.success((0,I.formatMessage)({id:"oal.common.modifySuccessfully"})),n.closeModifyAlarmSendSettings(),t({type:"user/modifySaasAlarmSet",payload:e.data}))})},n.deleteAlarmSendSettings=function(){var e=n.props,t=e.dispatch,a=e.currentUser;t({type:"settingInfo/alarmSendSettings",payload:{orgId:a&&a.org&&a.org._id||"",username:"",password:"",smtpServer:"",port:"",isSsl:"1"}}).then(function(e){e&&e.res>0&&e.data&&(o.default.success((0,I.formatMessage)({id:"oal.common.deletedSuccessfully"})),t({type:"user/modifySaasAlarmSet",payload:e.data}))})},n.openModifyAlarmReceiveSettings=function(){n.setState({modifyAlarmReceiveSettingsVisible:!0})},n.closeModifyAlarmReceiveSettings=function(){n.setState({modifyAlarmReceiveSettingsVisible:!1})},n.submitAlarmReceiveSettings=function(e){var t=n.props.dispatch;t({type:"settingInfo/alarmReceiveSettings",payload:e}).then(function(e){e&&e.res>0&&e.data&&(o.default.success((0,I.formatMessage)({id:"oal.common.modifySuccessfully"})),n.closeModifyAlarmReceiveSettings(),t({type:"user/modifySaasAlarmSet",payload:e.data}))})},n.deleteAlarmReceiveSettings=function(){var e=n.props,t=e.dispatch,a=e.currentUser;t({type:"settingInfo/alarmReceiveSettings",payload:{orgId:a&&a.org&&a.org._id||"",receiveMail:""}}).then(function(e){e&&e.res>0&&e.data&&(o.default.success((0,I.formatMessage)({id:"oal.common.deletedSuccessfully"})),t({type:"user/modifySaasAlarmSet",payload:e.data}))})},n.openModifyAlarmEvents=function(){n.setState({modifyAlarmEventsVisible:!0})},n.closeModifyAlarmEvents=function(){n.setState({modifyAlarmEventsVisible:!1})},n.submitAlarmEvents=function(e){var t=n.props.dispatch;t({type:"settingInfo/alarmEvents",payload:e}).then(function(e){e&&e.res>0&&e.data&&(o.default.success((0,I.formatMessage)({id:"oal.common.modifySuccessfully"})),n.closeModifyAlarmEvents(),t({type:"user/modifySaasAlarmSet",payload:e.data}))})},n.submitAlarmContent=function(e,t){var a=n.props.dispatch;a({type:"settingInfo/alarmContent",payload:e}).then(function(e){e&&e.res>0&&e.data&&(o.default.success((0,I.formatMessage)({id:"oal.common.modifySuccessfully"})),t&&t(),a({type:"user/modifySaasAlarmSet",payload:e.data}))})},n.toEditFaceKey=function(e){n.setFaceKeyModal(!0),n.setState({selectedFaceKey:e})},n.toEditConfigs=function(e){var t=n.props.dispatch;t({type:"settingInfo/toSetSysConfigs",payload:{data:[{key:"faceSize",value:{min:e.minSize,max:e.maxSize}},{key:"maxFaceCount",value:e.maxFaceCount}]}}).then(function(e){e&&e.res>0&&o.default.success((0,I.formatMessage)({id:"oal.common.saveSuccessfully"}))})},n.renderChildren=function(){var e=n.props,t=e.currentUser,a=(e.devInfo,e.devInfoLoading,e.faceKeyList,e.faceKeyListLoading,e.sysConfigs,e.systemVersion),r=e.baseViewLoading,o=n.state.selectKey;switch(o){case"base":return g.default.createElement(b.default,{currentUser:t,toSubmit:n.submitBaseInfo,loading:r});case"security":return g.default.createElement(E.default,{openModal:n.openModifyPswModal});case"system":return g.default.createElement(S.default,{version:a,currentUser:t,orgId:t&&t.org&&t.org._id||"",openModal:n.openModifySysName,updateSysIcons:n.submitSysIcons});case"alarm":return g.default.createElement(M.default,{currentUser:t,orgId:t&&t.org&&t.org._id||"",openSendSettingsModal:n.openModifyAlarmSendSettings,deleteAlarmSendSettings:n.deleteAlarmSendSettings,openReceiveSettingsModal:n.openModifyAlarmReceiveSettings,deleteAlarmReceiveSettings:n.deleteAlarmReceiveSettings,openEventsModal:n.openModifyAlarmEvents,updateAlarmContent:n.submitAlarmContent});default:break}return null},n.switchMenu=function(e){var t=e.key;"faceLibrary"===t&&n.loadSysConfig(),n.selectKey(t)};var r={base:(0,I.formatMessage)({id:"oal.settings.menu-base"}),security:(0,I.formatMessage)({id:"oal.settings.menu-security"}),system:(0,I.formatMessage)({id:"oal.settings.menu-system"}),alarm:(0,I.formatMessage)({id:"oal.settings.menu-alarm"})};return n.state={mode:"inline",menuMap:r,selectKey:"base",modifyPswVisible:!1,modifySysNameVisible:!1,modifyAlarmSendSettingsVisible:!1,modifyAlarmReceiveSettingsVisible:!1,modifyAlarmEventsVisible:!1,faceKeyVisible:!1,selectedFaceKey:{}},n}return(0,s.default)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.dispatch,a=e.currentUser;a&&a.org&&a.org._id?t({type:"settingInfo/getAlarmSet",payload:{orgId:a.org._id}}).then(function(e){e&&e.res>0&&e.data&&t({type:"user/modifySaasAlarmSet",payload:e.data})}):t({type:"user/fetchCurrent"}).then(function(e){e&&e.res>0&&e.data&&e.data.user&&e.data.user.org&&e.data.user.org._id&&t({type:"settingInfo/getAlarmSet",payload:{orgId:e.data.user.org._id}}).then(function(e){e&&e.res>0&&e.data&&t({type:"user/modifySaasAlarmSet",payload:e.data})})})}},{key:"render",value:function(){var e=this,t=this.props,a=t.currentUser,n=(t.addFaceKeyLoading,t.modifyPasswordLoading),r=t.modifySaasInfoLoading,o=t.alarmSendSettingsLoading,i=t.alarmReceiveSettingsLoading,l=t.alarmEventsLoading,s=a.type,u=this.state,c=u.mode,f=u.selectKey,d=u.modifyPswVisible,p=u.modifySysNameVisible,m=u.modifyAlarmSendSettingsVisible,h=u.modifyAlarmReceiveSettingsVisible,b=u.modifyAlarmEventsVisible;u.faceKeyVisible,u.selectedFaceKey;return g.default.createElement(v.PageHeaderWrapper,{className:P.default.myPageHeaderWrapper},g.default.createElement("div",{className:P.default.main,ref:function(t){t&&(e.main=t)}},g.default.createElement("div",{className:P.default.leftMenu},g.default.createElement(y.default,{mode:c,selectedKeys:[f],onClick:this.switchMenu},this.getMenu(Boolean(0===s)))),g.default.createElement("div",{className:P.default.right},g.default.createElement("div",{className:P.default.title},this.getRightTitle()),this.renderChildren())),g.default.createElement(C.default,{visible:d,confirmLoading:n,handleCancel:this.closeModifyPswModal,handleSubmit:this.submitModifyPsw}),g.default.createElement(w.default,{visible:p,currentUser:a,confirmLoading:r,handleCancel:this.closeModifySysName,handleSubmit:this.submitSysName}),g.default.createElement(x.default,{visible:m,currentUser:a,confirmLoading:o,handleCancel:this.closeModifyAlarmSendSettings,handleSubmit:this.submitAlarmSendSettings}),g.default.createElement(O.default,{visible:h,currentUser:a,confirmLoading:i,handleCancel:this.closeModifyAlarmReceiveSettings,handleSubmit:this.submitAlarmReceiveSettings}),g.default.createElement(k.default,{visible:b,currentUser:a,confirmLoading:l,handleCancel:this.closeModifyAlarmEvents,handleSubmit:this.submitAlarmEvents}))}}]),a}(g.Component),p=m))||p),V=T;t.default=V},UADf:function(e,t,a){e.exports={"ant-popover":"ant-popover","ant-popover-hidden":"ant-popover-hidden","ant-popover-placement-top":"ant-popover-placement-top","ant-popover-placement-topLeft":"ant-popover-placement-topLeft","ant-popover-placement-topRight":"ant-popover-placement-topRight","ant-popover-placement-right":"ant-popover-placement-right","ant-popover-placement-rightBottom":"ant-popover-placement-rightBottom","ant-popover-placement-rightTop":"ant-popover-placement-rightTop","ant-popover-placement-bottom":"ant-popover-placement-bottom","ant-popover-placement-bottomLeft":"ant-popover-placement-bottomLeft","ant-popover-placement-bottomRight":"ant-popover-placement-bottomRight","ant-popover-placement-left":"ant-popover-placement-left","ant-popover-placement-leftBottom":"ant-popover-placement-leftBottom","ant-popover-placement-leftTop":"ant-popover-placement-leftTop","ant-popover-inner":"ant-popover-inner","ant-popover-title":"ant-popover-title","ant-popover-inner-content":"ant-popover-inner-content","ant-popover-message":"ant-popover-message",anticon:"anticon","ant-popover-message-title":"ant-popover-message-title","ant-popover-buttons":"ant-popover-buttons","ant-popover-arrow":"ant-popover-arrow","ant-popover-content":"ant-popover-content"}},Wf8k:function(e,t,a){e.exports={myPageHeaderWrapper:"antd-pro-pages-settings-style-myPageHeaderWrapper",main:"antd-pro-pages-settings-style-main",leftMenu:"antd-pro-pages-settings-style-leftMenu",right:"antd-pro-pages-settings-style-right",title:"antd-pro-pages-settings-style-title"}},dYSE:function(e,t,a){"use strict";var n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("2qtc");var r=n(a("kLXV"));a("y8nQ");var o=n(a("Vl3Y"));a("5NDa");var i=n(a("5rEg")),l=n(a("q1tI")),s=a("Y2fQ"),u={labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:16}}},c=function(e){var t=e.form,a=e.visible,n=e.currentUser,c=e.handleSubmit,f=e.confirmLoading,d=e.handleCancel,p=t.getFieldDecorator,m=function(){t.validateFields(function(e,t){if(!e){var a=t;n&&n.org&&(a.orgId=n.org._id),c(a)}})},y=function(e,t,a){var n=/[<>|*?/:\s]/;t&&n.test(t)&&a((0,s.formatMessage)({id:"oal.common.illegalCharacterTips"})),a()};return l.default.createElement(r.default,{destroyOnClose:!0,title:(0,s.formatMessage)({id:"oal.settings.receiveSettings"}),visible:a,onOk:m,confirmLoading:f,onCancel:d,maskClosable:!1},l.default.createElement(o.default,u,l.default.createElement(o.default.Item,{label:(0,s.formatMessage)({id:"oal.settings.receiveMail"})},p("receiveMail",{rules:[{required:!0,message:(0,s.formatMessage)({id:"oal.common.pleaseEnter"})},{max:254,message:(0,s.formatMessage)({id:"oal.common.maxLength"},{num:"254"})},{type:"email",message:(0,s.formatMessage)({id:"oal.device.incorrectFormat"})},{validator:y}],initialValue:n&&n.alarmSet&&n.alarmSet.receiveMail||""})(l.default.createElement(i.default,{placeholder:(0,s.formatMessage)({id:"oal.settings.receiveMail"})})))))},f=o.default.create({name:"modifyAlarmReceiveSettings"})(c),d=f;t.default=d},diRs:function(e,t,a){"use strict";a.r(t),a.d(t,"default",function(){return E});var n=a("q1tI"),r=a("3S7+"),o=a("H84U"),i=a("6CfX");function l(e){"@babel/helpers - typeof";return l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},s.apply(this,arguments)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(e,t,a){return t&&c(e.prototype,t),a&&c(e,a),e}function d(e){return function(){var t,a=g(e);if(y()){var n=g(this).constructor;t=Reflect.construct(a,arguments,n)}else t=a.apply(this,arguments);return p(this,t)}}function p(e,t){return!t||"object"!==l(t)&&"function"!==typeof t?m(e):t}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}function v(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}function h(e,t){return h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},h(e,t)}var b=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a},E=function(e){v(a,e);var t=d(a);function a(){var e;return u(this,a),e=t.apply(this,arguments),e.saveTooltip=function(t){e.tooltip=t},e.renderPopover=function(t){var a=t.getPrefixCls,o=e.props,i=o.prefixCls,l=b(o,["prefixCls"]);delete l.title;var u=a("popover",i);return n["createElement"](r["default"],s({},l,{prefixCls:u,ref:e.saveTooltip,overlay:e.getOverlay(u)}))},e}return f(a,[{key:"getPopupDomNode",value:function(){return this.tooltip.getPopupDomNode()}},{key:"getOverlay",value:function(e){var t=this.props,a=t.title,r=t.content;return Object(i["a"])(!("overlay"in this.props),"Popover","`overlay` is removed, please use `content` instead, see: https://u.ant.design/popover-content"),n["createElement"]("div",null,a&&n["createElement"]("div",{className:"".concat(e,"-title")},a),n["createElement"]("div",{className:"".concat(e,"-inner-content")},r))}},{key:"render",value:function(){return n["createElement"](o["a"],null,this.renderPopover)}}]),a}(n["Component"]);E.defaultProps={placement:"top",transitionName:"zoom-big",trigger:"hover",mouseEnterDelay:.1,mouseLeaveDelay:.1,overlayStyle:{}}},eToR:function(e,t,a){"use strict";var n=a("tAuX"),r=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("2qtc");var o=r(a("kLXV"));a("14J3");var i=r(a("BMrR"));a("Pwec");var l=r(a("CtXQ"));a("jCWc");var s=r(a("kPKH"));a("5NDa");var u=r(a("5rEg"));a("miYZ");var c=r(a("tsqr")),f=r(a("2Taf")),d=r(a("vZ4D")),p=r(a("l4Ni")),m=r(a("ujKo")),y=r(a("MhPg")),g=n(a("q1tI")),v=a("Y2fQ");function h(e){return function(){var t,a=(0,m.default)(e);if(b()){var n=(0,m.default)(this).constructor;t=Reflect.construct(a,arguments,n)}else t=a.apply(this,arguments);return(0,p.default)(this,t)}}function b(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}var E={row:{margin:"12px 0"},col:{display:"flex",padding:"0 8px"},deleteBtn:{cursor:"pointer",position:"relative",top:"4px",fontSize:"24px",color:"#999",transition:"all 0.3s",marginRight:"16px"},addBtn:{cursor:"pointer",position:"relative",top:"4px",fontSize:"24px",color:"#40a9ff",transition:"all 0.3s"},inputError:{border:"1px solid #ff0000"},spanError:{color:"#ff0000",fontSize:"12px",marginLeft:"45px"}},S=function(e){(0,y.default)(a,e);var t=h(a);function a(){var e;(0,f.default)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),e.state={optionData:[{value:"",text:""}]},e.onCancel=function(){var t=e.props.handleCancel;t(function(){e.setState({optionData:[{value:"",text:""}]})})},e.handleOk=function(){var t=e.props.handleSubmit,a=e.state.optionData,n=a.findIndex(function(e){return e.errorMsg&&e.errorMsg.value||e.errorMsg&&e.errorMsg.text});if(!(n>=0)){var r=a.findIndex(function(e){return""===e.value||""===e.text});r>=0?c.default.error((0,v.formatMessage)({id:"oal.settings.completeInfo"})):t(a,function(){e.setState({optionData:[{value:"",text:""}]})})}},e.handleOption=function(t,a){var n=e.state.optionData,r=n;"add"===t?r.push({value:"",text:""}):r.splice(a,1),e.setState({optionData:r})},e.onChange=function(t,a,n){var r=/^\w+$/,o=e.state.optionData,i=o;i[t].errorMsg||(i[t].errorMsg={}),"value"===a?(i[t].value=n,n&&(!r.test(n)||n.length>50)?i[t].errorMsg.value=(0,v.formatMessage)({id:"oal.settings.optionDataError"},{num:"50"}):i[t].errorMsg.value=""):(i[t].text=n,n&&n.length>50?i[t].errorMsg.text=(0,v.formatMessage)({id:"oal.common.maxLength"},{num:"50"}):i[t].errorMsg.text=""),e.setState({optionData:i})},e}return(0,d.default)(a,[{key:"componentWillReceiveProps",value:function(e){e.visible&&e.visible!==this.props.visible&&this.setState({optionData:e.optionData.length>0?e.optionData:[{value:"",text:""}]})}},{key:"render",value:function(){var e=this,t=this.props.visible,a=this.state.optionData;return g.default.createElement(o.default,{destroyOnClose:!0,title:(0,v.formatMessage)({id:"oal.settings.configDropdownOptions"}),width:600,visible:t,onOk:this.handleOk,onCancel:this.onCancel,maskClosable:!1},g.default.createElement("div",null,a.length>0&&a.map(function(t,n){return g.default.createElement("div",{key:"option_".concat(n)},g.default.createElement(i.default,{style:E.row},g.default.createElement(s.default,{span:10,style:E.col},g.default.createElement("span",null,"value\uff1a"),g.default.createElement(u.default,{style:t.errorMsg&&t.errorMsg.value?E.inputError:null,value:t.value,onChange:function(t){return e.onChange(n,"value",t.target.value)}})),g.default.createElement(s.default,{span:10,style:E.col},g.default.createElement("span",null,"text\uff1a"),g.default.createElement(u.default,{style:t.errorMsg&&t.errorMsg.text?E.inputError:null,value:t.text,onChange:function(t){return e.onChange(n,"text",t.target.value)}})),g.default.createElement(s.default,{span:4,style:E.col},1===a.length?null:g.default.createElement(l.default,{style:E.deleteBtn,type:"minus-circle-o",onClick:function(){return e.handleOption("remove",n)}}),n===a.length-1?g.default.createElement(l.default,{style:E.addBtn,type:"plus-circle",onClick:function(){return e.handleOption("add")}}):null)),g.default.createElement(i.default,{style:E.row},g.default.createElement(s.default,{span:10,style:E.col},t.errorMsg&&t.errorMsg.value?g.default.createElement("span",{style:E.spanError},t.errorMsg.value):null),g.default.createElement(s.default,{span:10,style:E.col},t.errorMsg&&t.errorMsg.text?g.default.createElement("span",{style:E.spanError},t.errorMsg.text):null),g.default.createElement(s.default,{span:4,style:E.col})))})))}}]),a}(g.Component),M=S;t.default=M},fyUT:function(e,t,a){"use strict";a.r(t);var n=a("q1tI"),r=a.n(n),o=a("TSYQ"),i=a.n(o),l=a("jo6Y"),s=a.n(l),u=a("QbLZ"),c=a.n(u),f=a("iCc5"),d=a.n(f),p=a("FYw3"),m=a.n(p),y=a("mRg0"),g=a.n(y),v=a("17x9"),h=a.n(v),b=a("4IlW"),E=a("V7oC"),S=a.n(E),M=function(e){function t(){d()(this,t);var e=m()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.state={active:!1},e.onTouchStart=function(t){e.triggerEvent("TouchStart",!0,t)},e.onTouchMove=function(t){e.triggerEvent("TouchMove",!1,t)},e.onTouchEnd=function(t){e.triggerEvent("TouchEnd",!1,t)},e.onTouchCancel=function(t){e.triggerEvent("TouchCancel",!1,t)},e.onMouseDown=function(t){e.triggerEvent("MouseDown",!0,t)},e.onMouseUp=function(t){e.triggerEvent("MouseUp",!1,t)},e.onMouseLeave=function(t){e.triggerEvent("MouseLeave",!1,t)},e}return g()(t,e),S()(t,[{key:"componentDidUpdate",value:function(){this.props.disabled&&this.state.active&&this.setState({active:!1})}},{key:"triggerEvent",value:function(e,t,a){var n="on"+e,r=this.props.children;r.props[n]&&r.props[n](a),t!==this.state.active&&this.setState({active:t})}},{key:"render",value:function(){var e=this.props,t=e.children,a=e.disabled,n=e.activeClassName,o=e.activeStyle,l=a?void 0:{onTouchStart:this.onTouchStart,onTouchMove:this.onTouchMove,onTouchEnd:this.onTouchEnd,onTouchCancel:this.onTouchCancel,onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onMouseLeave:this.onMouseLeave},s=r.a.Children.only(t);if(!a&&this.state.active){var u=s.props,f=u.style,d=u.className;return!1!==o&&(o&&(f=c()({},f,o)),d=i()(d,n)),r.a.cloneElement(s,c()({className:d,style:f},l))}return r.a.cloneElement(s,l)}}]),t}(r.a.Component),C=M;M.defaultProps={disabled:!1};var w=function(e){function t(){return d()(this,t),m()(this,e.apply(this,arguments))}return g()(t,e),t.prototype.render=function(){var e=this.props,t=e.prefixCls,a=e.disabled,n=s()(e,["prefixCls","disabled"]);return r.a.createElement(C,{disabled:a,activeClassName:t+"-handler-active"},r.a.createElement("span",n))},t}(n["Component"]);w.propTypes={prefixCls:h.a.string,disabled:h.a.bool,onTouchStart:h.a.func,onTouchEnd:h.a.func,onMouseDown:h.a.func,onMouseUp:h.a.func,onMouseLeave:h.a.func};var x=w;function O(){}function k(e){e.preventDefault()}function P(e){return e.replace(/[^\w\.-]+/g,"")}var I=200,N=600,R=Number.MAX_SAFE_INTEGER||Math.pow(2,53)-1,j=function(e){return void 0!==e&&null!==e},D=function(e,t){return t===e||"number"===typeof t&&"number"===typeof e&&isNaN(t)&&isNaN(e)},T=function(e){function t(a){d()(this,t);var n=m()(this,e.call(this,a));V.call(n);var r=void 0;r="value"in a?a.value:a.defaultValue,n.state={focused:a.autoFocus};var o=n.getValidValue(n.toNumber(r));return n.state=c()({},n.state,{inputValue:n.toPrecisionAsStep(o),value:o}),n}return g()(t,e),t.prototype.componentDidMount=function(){this.componentDidUpdate()},t.prototype.componentDidUpdate=function(e){var t=this.props,a=t.value,n=t.onChange,r=t.max,o=t.min,i=this.state.focused;if(e){if(!D(e.value,a)||!D(e.max,r)||!D(e.min,o)){var l=i?a:this.getValidValue(a),s=void 0;s=this.pressingUpOrDown?l:this.inputting?this.rawInput:this.toPrecisionAsStep(l),this.setState({value:l,inputValue:s})}var u="value"in this.props?a:this.state.value;"max"in this.props&&e.max!==r&&"number"===typeof u&&u>r&&n&&n(r),"min"in this.props&&e.min!==o&&"number"===typeof u&&u<o&&n&&n(o)}try{if(void 0!==this.cursorStart&&this.state.focused)if(this.partRestoreByAfter(this.cursorAfter)||this.state.value===this.props.value){if(this.currentValue===this.input.value)switch(this.lastKeyCode){case b["a"].BACKSPACE:this.fixCaret(this.cursorStart-1,this.cursorStart-1);break;case b["a"].DELETE:this.fixCaret(this.cursorStart+1,this.cursorStart+1);break;default:}}else{var c=this.cursorStart+1;this.cursorAfter?this.lastKeyCode===b["a"].BACKSPACE?c=this.cursorStart-1:this.lastKeyCode===b["a"].DELETE&&(c=this.cursorStart):c=this.input.value.length,this.fixCaret(c,c)}}catch(e){}this.lastKeyCode=null,this.pressingUpOrDown&&(this.props.focusOnUpDown&&this.state.focused&&document.activeElement!==this.input&&this.focus(),this.pressingUpOrDown=!1)},t.prototype.componentWillUnmount=function(){this.stop()},t.prototype.getCurrentValidValue=function(e){var t=e;return t=""===t?"":this.isNotCompleteNumber(parseFloat(t,10))?this.state.value:this.getValidValue(t),this.toNumber(t)},t.prototype.getRatio=function(e){var t=1;return e.metaKey||e.ctrlKey?t=.1:e.shiftKey&&(t=10),t},t.prototype.getValueFromEvent=function(e){var t=e.target.value.trim().replace(/\u3002/g,".");return j(this.props.decimalSeparator)&&(t=t.replace(this.props.decimalSeparator,".")),t},t.prototype.getValidValue=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.props.min,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.props.max,n=parseFloat(e,10);return isNaN(n)?e:(n<t&&(n=t),n>a&&(n=a),n)},t.prototype.setValue=function(e,t){var a=this.props.precision,n=this.isNotCompleteNumber(parseFloat(e,10))?null:parseFloat(e,10),r=this.state,o=r.value,i=void 0===o?null:o,l=r.inputValue,s=void 0===l?null:l,u="number"===typeof n?n.toFixed(a):""+n,c=n!==i||u!==""+s;return"value"in this.props?this.setState({inputValue:this.toPrecisionAsStep(this.state.value)},t):this.setState({value:n,inputValue:this.toPrecisionAsStep(e)},t),c&&this.props.onChange(n),n},t.prototype.getPrecision=function(e){if(j(this.props.precision))return this.props.precision;var t=e.toString();if(t.indexOf("e-")>=0)return parseInt(t.slice(t.indexOf("e-")+2),10);var a=0;return t.indexOf(".")>=0&&(a=t.length-t.indexOf(".")-1),a},t.prototype.getMaxPrecision=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=this.props,n=a.precision,r=a.step;if(j(n))return n;var o=this.getPrecision(t),i=this.getPrecision(r),l=this.getPrecision(e);return e?Math.max(l,o+i):o+i},t.prototype.getPrecisionFactor=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=this.getMaxPrecision(e,t);return Math.pow(10,a)},t.prototype.fixCaret=function(e,t){if(void 0!==e&&void 0!==t&&this.input&&this.input.value)try{var a=this.input.selectionStart,n=this.input.selectionEnd;e===a&&t===n||this.input.setSelectionRange(e,t)}catch(e){}},t.prototype.focus=function(){this.input.focus(),this.recordCursorPosition()},t.prototype.blur=function(){this.input.blur()},t.prototype.formatWrapper=function(e){return this.props.formatter?this.props.formatter(e):e},t.prototype.toPrecisionAsStep=function(e){if(this.isNotCompleteNumber(e)||""===e)return e;var t=Math.abs(this.getMaxPrecision(e));return isNaN(t)?e.toString():Number(e).toFixed(t)},t.prototype.isNotCompleteNumber=function(e){return isNaN(e)||""===e||null===e||e&&e.toString().indexOf(".")===e.toString().length-1},t.prototype.toNumber=function(e){var t=this.props.precision,a=this.state.focused,n=e&&e.length>16&&a;return this.isNotCompleteNumber(e)||n?e:j(t)?Math.round(e*Math.pow(10,t))/Math.pow(10,t):Number(e)},t.prototype.upStep=function(e,t){var a=this.props.step,n=this.getPrecisionFactor(e,t),r=Math.abs(this.getMaxPrecision(e,t)),o=((n*e+n*a*t)/n).toFixed(r);return this.toNumber(o)},t.prototype.downStep=function(e,t){var a=this.props.step,n=this.getPrecisionFactor(e,t),r=Math.abs(this.getMaxPrecision(e,t)),o=((n*e-n*a*t)/n).toFixed(r);return this.toNumber(o)},t.prototype.step=function(e,t){var a=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments[3];this.stop(),t&&(t.persist(),t.preventDefault());var o=this.props;if(!o.disabled){var i=this.getCurrentValidValue(this.state.inputValue)||0;if(!this.isNotCompleteNumber(i)){var l=this[e+"Step"](i,n),s=l>o.max||l<o.min;l>o.max?l=o.max:l<o.min&&(l=o.min),this.setValue(l),this.setState({focused:!0}),s||(this.autoStepTimer=setTimeout(function(){a[e](t,n,!0)},r?I:N))}}},t.prototype.render=function(){var e,t=c()({},this.props),a=t.prefixCls,n=t.disabled,o=t.readOnly,l=t.useTouch,u=t.autoComplete,f=t.upHandler,d=t.downHandler,p=(s()(t,["prefixCls","disabled","readOnly","useTouch","autoComplete","upHandler","downHandler"]),i()((e={},e[a]=!0,e[t.className]=!!t.className,e[a+"-disabled"]=n,e[a+"-focused"]=this.state.focused,e))),m="",y="",g=this.state.value;if(g||0===g)if(isNaN(g))m=a+"-handler-up-disabled",y=a+"-handler-down-disabled";else{var v=Number(g);v>=t.max&&(m=a+"-handler-up-disabled"),v<=t.min&&(y=a+"-handler-down-disabled")}var h={};for(var b in t)!t.hasOwnProperty(b)||"data-"!==b.substr(0,5)&&"aria-"!==b.substr(0,5)&&"role"!==b||(h[b]=t[b]);var E=!t.readOnly&&!t.disabled,S=this.getInputDisplayValue(),M=void 0,C=void 0;l?(M={onTouchStart:E&&!m?this.up:O,onTouchEnd:this.stop},C={onTouchStart:E&&!y?this.down:O,onTouchEnd:this.stop}):(M={onMouseDown:E&&!m?this.up:O,onMouseUp:this.stop,onMouseLeave:this.stop},C={onMouseDown:E&&!y?this.down:O,onMouseUp:this.stop,onMouseLeave:this.stop});var w=!!m||n||o,P=!!y||n||o;return r.a.createElement("div",{className:p,style:t.style,title:t.title,onMouseEnter:t.onMouseEnter,onMouseLeave:t.onMouseLeave,onMouseOver:t.onMouseOver,onMouseOut:t.onMouseOut},r.a.createElement("div",{className:a+"-handler-wrap"},r.a.createElement(x,c()({ref:this.saveUp,disabled:w,prefixCls:a,unselectable:"unselectable"},M,{role:"button","aria-label":"Increase Value","aria-disabled":!!w,className:a+"-handler "+a+"-handler-up "+m}),f||r.a.createElement("span",{unselectable:"unselectable",className:a+"-handler-up-inner",onClick:k})),r.a.createElement(x,c()({ref:this.saveDown,disabled:P,prefixCls:a,unselectable:"unselectable"},C,{role:"button","aria-label":"Decrease Value","aria-disabled":!!P,className:a+"-handler "+a+"-handler-down "+y}),d||r.a.createElement("span",{unselectable:"unselectable",className:a+"-handler-down-inner",onClick:k}))),r.a.createElement("div",{className:a+"-input-wrap"},r.a.createElement("input",c()({role:"spinbutton","aria-valuemin":t.min,"aria-valuemax":t.max,"aria-valuenow":g,required:t.required,type:t.type,placeholder:t.placeholder,onClick:t.onClick,onMouseUp:this.onMouseUp,className:a+"-input",tabIndex:t.tabIndex,autoComplete:u,onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:E?this.onKeyDown:O,onKeyUp:E?this.onKeyUp:O,autoFocus:t.autoFocus,maxLength:t.maxLength,readOnly:t.readOnly,disabled:t.disabled,max:t.max,min:t.min,step:t.step,name:t.name,title:t.title,id:t.id,onChange:this.onChange,ref:this.saveInput,value:S,pattern:t.pattern,inputMode:t.inputMode},h))))},t}(r.a.Component);T.propTypes={value:h.a.oneOfType([h.a.number,h.a.string]),defaultValue:h.a.oneOfType([h.a.number,h.a.string]),focusOnUpDown:h.a.bool,autoFocus:h.a.bool,onChange:h.a.func,onPressEnter:h.a.func,onKeyDown:h.a.func,onKeyUp:h.a.func,prefixCls:h.a.string,tabIndex:h.a.oneOfType([h.a.string,h.a.number]),disabled:h.a.bool,onFocus:h.a.func,onBlur:h.a.func,readOnly:h.a.bool,max:h.a.number,min:h.a.number,step:h.a.oneOfType([h.a.number,h.a.string]),upHandler:h.a.node,downHandler:h.a.node,useTouch:h.a.bool,formatter:h.a.func,parser:h.a.func,onMouseEnter:h.a.func,onMouseLeave:h.a.func,onMouseOver:h.a.func,onMouseOut:h.a.func,onMouseUp:h.a.func,precision:h.a.number,required:h.a.bool,pattern:h.a.string,decimalSeparator:h.a.string,inputMode:h.a.string},T.defaultProps={focusOnUpDown:!0,useTouch:!1,prefixCls:"rc-input-number",min:-R,step:1,style:{},onChange:O,onKeyDown:O,onPressEnter:O,onFocus:O,onBlur:O,parser:P,required:!1,autoComplete:"off"};var V=function(){var e=this;this.onKeyDown=function(t){for(var a=arguments.length,n=Array(a>1?a-1:0),r=1;r<a;r++)n[r-1]=arguments[r];var o=e.props,i=o.onKeyDown,l=o.onPressEnter;if(t.keyCode===b["a"].UP){var s=e.getRatio(t);e.up(t,s),e.stop()}else if(t.keyCode===b["a"].DOWN){var u=e.getRatio(t);e.down(t,u),e.stop()}else t.keyCode===b["a"].ENTER&&l&&l(t);e.recordCursorPosition(),e.lastKeyCode=t.keyCode,i&&i.apply(void 0,[t].concat(n))},this.onKeyUp=function(t){for(var a=arguments.length,n=Array(a>1?a-1:0),r=1;r<a;r++)n[r-1]=arguments[r];var o=e.props.onKeyUp;e.stop(),e.recordCursorPosition(),o&&o.apply(void 0,[t].concat(n))},this.onChange=function(t){var a=e.props.onChange;e.state.focused&&(e.inputting=!0),e.rawInput=e.props.parser(e.getValueFromEvent(t)),e.setState({inputValue:e.rawInput}),a(e.toNumber(e.rawInput))},this.onMouseUp=function(){var t=e.props.onMouseUp;e.recordCursorPosition(),t&&t.apply(void 0,arguments)},this.onFocus=function(){var t;e.setState({focused:!0}),(t=e.props).onFocus.apply(t,arguments)},this.onBlur=function(){var t=e.props.onBlur;e.inputting=!1,e.setState({focused:!1});var a=e.getCurrentValidValue(e.state.inputValue),n=e.setValue(a);if(t){var r=e.input.value,o=e.getInputDisplayValue({focus:!1,value:n});e.input.value=o,t.apply(void 0,arguments),e.input.value=r}},this.getInputDisplayValue=function(t){var a=t||e.state,n=a.focused,r=a.inputValue,o=a.value,i=void 0;i=n?r:e.toPrecisionAsStep(o),void 0!==i&&null!==i||(i="");var l=e.formatWrapper(i);return j(e.props.decimalSeparator)&&(l=l.toString().replace(".",e.props.decimalSeparator)),l},this.recordCursorPosition=function(){try{e.cursorStart=e.input.selectionStart,e.cursorEnd=e.input.selectionEnd,e.currentValue=e.input.value,e.cursorBefore=e.input.value.substring(0,e.cursorStart),e.cursorAfter=e.input.value.substring(e.cursorEnd)}catch(e){}},this.restoreByAfter=function(t){if(void 0===t)return!1;var a=e.input.value,n=a.lastIndexOf(t);if(-1===n)return!1;var r=e.cursorBefore.length;return e.lastKeyCode===b["a"].DELETE&&e.cursorBefore.charAt(r-1)===t[0]?(e.fixCaret(r,r),!0):n+t.length===a.length&&(e.fixCaret(n,n),!0)},this.partRestoreByAfter=function(t){return void 0!==t&&Array.prototype.some.call(t,function(a,n){var r=t.substring(n);return e.restoreByAfter(r)})},this.stop=function(){e.autoStepTimer&&clearTimeout(e.autoStepTimer)},this.down=function(t,a,n){e.pressingUpOrDown=!0,e.step("down",t,a,n)},this.up=function(t,a,n){e.pressingUpOrDown=!0,e.step("up",t,a,n)},this.saveUp=function(t){e.upHandler=t},this.saveDown=function(t){e.downHandler=t},this.saveInput=function(t){e.input=t}},A=T,F=a("CtXQ"),_=a("H84U");function U(e){"@babel/helpers - typeof";return U="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},U(e)}function L(){return L=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},L.apply(this,arguments)}function K(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function q(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function B(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Q(e,t,a){return t&&B(e.prototype,t),a&&B(e,a),e}function z(e){return function(){var t,a=X(e);if(W()){var n=X(this).constructor;t=Reflect.construct(a,arguments,n)}else t=a.apply(this,arguments);return H(this,t)}}function H(e,t){return!t||"object"!==U(t)&&"function"!==typeof t?Y(e):t}function Y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function W(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function X(e){return X=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},X(e)}function Z(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$(e,t)}function $(e,t){return $=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},$(e,t)}a.d(t,"default",function(){return G});var J=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a},G=function(e){Z(a,e);var t=z(a);function a(){var e;return q(this,a),e=t.apply(this,arguments),e.saveInputNumber=function(t){e.inputNumberRef=t},e.renderInputNumber=function(t){var a,r=t.getPrefixCls,o=e.props,l=o.className,s=o.size,u=o.prefixCls,c=J(o,["className","size","prefixCls"]),f=r("input-number",u),d=i()((a={},K(a,"".concat(f,"-lg"),"large"===s),K(a,"".concat(f,"-sm"),"small"===s),a),l),p=n["createElement"](F["default"],{type:"up",className:"".concat(f,"-handler-up-inner")}),m=n["createElement"](F["default"],{type:"down",className:"".concat(f,"-handler-down-inner")});return n["createElement"](A,L({ref:e.saveInputNumber,className:d,upHandler:p,downHandler:m,prefixCls:f},c))},e}return Q(a,[{key:"focus",value:function(){this.inputNumberRef.focus()}},{key:"blur",value:function(){this.inputNumberRef.blur()}},{key:"render",value:function(){return n["createElement"](_["a"],null,this.renderInputNumber)}}]),a}(n["Component"]);G.defaultProps={step:1}},"giR+":function(e,t,a){"use strict";a.r(t);a("cIOH"),a("QbM5")},j2ss:function(e,t,a){"use strict";var n=a("tAuX"),r=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("Mwp2");var o=r(a("VXEj"));a("5Dmo");var i=r(a("3S7+"));a("y8nQ");var l=r(a("Vl3Y"));a("miYZ");var s=r(a("tsqr")),u=r(a("2Taf")),c=r(a("vZ4D")),f=r(a("l4Ni")),d=r(a("ujKo")),p=r(a("MhPg"));a("5NDa");var m=r(a("5rEg")),y=n(a("q1tI")),g=(r(a("zwU1")),a("Y2fQ"));function v(e){return function(){var t,a=(0,d.default)(e);if(h()){var n=(0,d.default)(this).constructor;t=Reflect.construct(a,arguments,n)}else t=a.apply(this,arguments);return(0,f.default)(this,t)}}function h(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}var b=m.default.TextArea,E={temperatureAnomalies:"oal.settings.temperatureAnomalies",notWearMask:"oal.settings.notWearMask"},S={labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:16}}},M=function(e){(0,p.default)(a,e);var t=v(a);function a(){var e;(0,u.default)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),e.state={isModifyAlarmContent:!1},e.handleModifyAlarmContent=function(){var t=e.props,a=t.updateAlarmContent,n=t.form,r=t.currentUser,o=e.state.isModifyAlarmContent;o?n.validateFields(function(t,n){if(!t){var o=n;r&&r.org&&(o.orgId=r.org._id),o.mailLanguage=(0,g.getLocale)(),a(o,function(){e.setState({isModifyAlarmContent:!1})})}}):e.setState({isModifyAlarmContent:!0})},e.useDefaultTemplate=function(){e.props.form.setFieldsValue({mailContent:(0,g.formatMessage)({id:"oal.settings.mailContentTemplate"})})},e.clickCopyEventVariable=function(e){var t=document.getElementById("copyArea_".concat(e));t.select();try{document.execCommand("copy",!1,null)?(document.execCommand("Copy"),s.default.success((0,g.formatMessage)({id:"oal.common.copySuccessfully"}))):s.default.error((0,g.formatMessage)({id:"oal.common.copyFailedTips"}))}catch(e){s.default.error((0,g.formatMessage)({id:"oal.common.copyFailedTips"}))}},e.getData=function(){var t=e.props,a=t.form,n=t.currentUser,r=(t.orgId,t.openSendSettingsModal),o=t.deleteAlarmSendSettings,s=t.openReceiveSettingsModal,u=t.deleteAlarmReceiveSettings,c=t.openEventsModal,f=(t.updateAlarmContent,a.getFieldDecorator),d=a.getFieldValue,p=(a.setFieldsValue,e.state.isModifyAlarmContent),v=n&&n.alarmSet||{},h=[{title:(0,g.formatMessage)({id:"oal.settings.sendSettings"}),description:y.default.createElement(y.Fragment,null,v&&v.username||(0,g.formatMessage)({id:"oal.common.unset"})),actions:v&&v.username?[y.default.createElement("a",{key:"modify",onClick:r},y.default.createElement(g.FormattedMessage,{id:"oal.common.modify"})),y.default.createElement("a",{key:"delete",onClick:o,style:{color:"#FF4D4F"}},y.default.createElement(g.FormattedMessage,{id:"oal.common.delete"}))]:[y.default.createElement("a",{key:"modify",onClick:r},y.default.createElement(g.FormattedMessage,{id:"oal.common.modify"}))]},{title:(0,g.formatMessage)({id:"oal.settings.receiveSettings"}),description:y.default.createElement(y.Fragment,null,v&&v.receiveMail||(0,g.formatMessage)({id:"oal.common.unset"})),actions:v&&v.receiveMail?[y.default.createElement("a",{key:"modify",onClick:s},y.default.createElement(g.FormattedMessage,{id:"oal.common.modify"})),y.default.createElement("a",{key:"delete",onClick:u,style:{color:"#FF4D4F"}},y.default.createElement(g.FormattedMessage,{id:"oal.common.delete"}))]:[y.default.createElement("a",{key:"modify",onClick:s},y.default.createElement(g.FormattedMessage,{id:"oal.common.modify"}))]},{title:(0,g.formatMessage)({id:"oal.settings.alarmEvents"}),description:y.default.createElement(y.Fragment,null,v&&v.alarmEvents&&v.alarmEvents.split(",").map(function(e){return(0,g.formatMessage)({id:E[e]})}).join("\u3001")||(0,g.formatMessage)({id:"oal.common.unset"})),actions:[y.default.createElement("a",{key:"modify",onClick:c},y.default.createElement(g.FormattedMessage,{id:"oal.common.modify"}))]},{title:(0,g.formatMessage)({id:"oal.settings.alarmContent"}),description:y.default.createElement(y.Fragment,null,p?y.default.createElement("div",{className:"oal-alarm-content"},y.default.createElement(l.default,S,y.default.createElement(l.default.Item,{label:(0,g.formatMessage)({id:"oal.settings.mailSubject"})},f("mailSubject",{rules:[{required:!0,message:(0,g.formatMessage)({id:"oal.common.pleaseEnter"})},{max:30,message:(0,g.formatMessage)({id:"oal.common.maxLength"},{num:"30"})}],initialValue:n&&n.alarmSet&&n.alarmSet.mailSubject||""})(y.default.createElement(m.default,{placeholder:(0,g.formatMessage)({id:"oal.settings.mailSubject"})})),y.default.createElement("span",{style:{paddingLeft:"20px"}},d("mailSubject").length,"/30")),y.default.createElement(l.default.Item,{label:(0,g.formatMessage)({id:"oal.settings.mailContent"})},f("mailContent",{rules:[{required:!0,message:(0,g.formatMessage)({id:"oal.common.pleaseEnter"})},{max:500,message:(0,g.formatMessage)({id:"oal.common.maxLength"},{num:"500"})}],initialValue:n&&n.alarmSet&&n.alarmSet.mailContent||(0,g.formatMessage)({id:"oal.settings.mailContentTemplate"})})(y.default.createElement(b,{placeholder:(0,g.formatMessage)({id:"oal.settings.mailContent"}),autoSize:{minRows:5}})),y.default.createElement("span",{style:{paddingLeft:"20px"}},d("mailContent").length,"/500"))),y.default.createElement("a",{style:{position:"absolute",bottom:"82px",right:"22%"},onClick:e.useDefaultTemplate},y.default.createElement(g.FormattedMessage,{id:"oal.settings.defaultTemplate"})),y.default.createElement("div",{style:{paddingLeft:"25%",paddingTop:"20px"}},y.default.createElement("p",null,y.default.createElement(g.FormattedMessage,{id:"oal.settings.clickCopyEventVariable"})),y.default.createElement("p",null,y.default.createElement(i.default,{title:"${name}"},y.default.createElement("a",{style:{marginRight:"20px"},onClick:function(){return e.clickCopyEventVariable("name")}},y.default.createElement(g.FormattedMessage,{id:"oal.settings.nickname"}),y.default.createElement("textarea",{cols:"40",rows:"5",id:"copyArea_name",defaultValue:"${name}",style:{position:"absolute",top:"-999px",left:"-999px"}}))),y.default.createElement(i.default,{title:"${devicename}"},y.default.createElement("a",{style:{marginRight:"20px"},onClick:function(){return e.clickCopyEventVariable("devicename")}},y.default.createElement(g.FormattedMessage,{id:"oal.settings.devicename"}),y.default.createElement("textarea",{cols:"40",rows:"5",id:"copyArea_devicename",defaultValue:"${devicename}",style:{position:"absolute",top:"-999px",left:"-999px"}}))),y.default.createElement(i.default,{title:"${time}"},y.default.createElement("a",{style:{marginRight:"20px"},onClick:function(){return e.clickCopyEventVariable("time")}},y.default.createElement(g.FormattedMessage,{id:"oal.settings.dateTime"}),y.default.createElement("textarea",{cols:"40",rows:"5",id:"copyArea_time",defaultValue:"${time}",style:{position:"absolute",top:"-999px",left:"-999px"}}))),y.default.createElement(i.default,{title:"${personName}"},y.default.createElement("a",{style:{marginRight:"20px"},onClick:function(){return e.clickCopyEventVariable("personName")}},y.default.createElement(g.FormattedMessage,{id:"oal.settings.personName"}),y.default.createElement("textarea",{cols:"40",rows:"5",id:"copyArea_personName",defaultValue:"${personName}",style:{position:"absolute",top:"-999px",left:"-999px"}}))),y.default.createElement(i.default,{title:"${jobNumber}"},y.default.createElement("a",{style:{marginRight:"20px"},onClick:function(){return e.clickCopyEventVariable("jobNumber")}},y.default.createElement(g.FormattedMessage,{id:"oal.settings.jobNumber"}),y.default.createElement("textarea",{cols:"40",rows:"5",id:"copyArea_jobNumber",defaultValue:"${jobNumber}",style:{position:"absolute",top:"-999px",left:"-999px"}}))),y.default.createElement(i.default,{title:"${alarmEvents}"},y.default.createElement("a",{style:{marginRight:"20px"},onClick:function(){return e.clickCopyEventVariable("alarmEvents")}},y.default.createElement(g.FormattedMessage,{id:"oal.settings.alarmEvents"}),y.default.createElement("textarea",{cols:"40",rows:"5",id:"copyArea_alarmEvents",defaultValue:"",style:{position:"absolute",top:"-999px",left:"-999px"}})))))):""),actions:[y.default.createElement("a",{key:"modify",onClick:e.handleModifyAlarmContent},p?y.default.createElement(g.FormattedMessage,{id:"oal.common.complete"}):y.default.createElement(g.FormattedMessage,{id:"oal.common.modify"}))]}];return h},e}return(0,c.default)(a,[{key:"render",value:function(){return y.default.createElement(y.Fragment,null,y.default.createElement(o.default,{itemLayout:"horizontal",dataSource:this.getData(),renderItem:function(e){return y.default.createElement(o.default.Item,{actions:e.actions},y.default.createElement(o.default.Item.Meta,{title:e.title,description:e.description}))}}))}}]),a}(y.Component),C=l.default.create()(M);t.default=C},kfMY:function(e,t,a){"use strict";var n=a("tAuX"),r=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("+L6B");var o=r(a("2/Rp"));a("giR+");var i=r(a("fyUT"));a("/zsF");var l=r(a("PArb")),s=r(a("2Taf")),u=r(a("vZ4D")),c=r(a("l4Ni")),f=r(a("ujKo")),d=r(a("MhPg"));a("y8nQ");var p=r(a("Vl3Y"));a("tU7J");var m=r(a("wFql")),y=n(a("q1tI")),g=a("+n12"),v=r(a("CDhv")),h=a("Y2fQ");function b(e){return function(){var t,a=(0,f.default)(e);if(E()){var n=(0,f.default)(this).constructor;t=Reflect.construct(a,arguments,n)}else t=a.apply(this,arguments);return(0,c.default)(this,t)}}function E(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}var S=m.default.Title,M=p.default.Item,C=function(e){(0,d.default)(a,e);var t=b(a);function a(){var e;(0,s.default)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),e.handlerSubmit=function(){var t=e.props,a=t.form,n=t.toEdit;a.validateFields(function(e,t){e||n(t)})},e.checkNum=function(e,t,a){""===t||(0,g.validateNum)(t)||a((0,h.formatMessage)({id:"oal.settings.enterPositiveInteger"})),a()},e}return(0,u.default)(a,[{key:"render",value:function(){var e=this.props,t=e.form.getFieldDecorator,a=e.data,n=a.find(function(e){return"faceSize"===e.key}),r=a.find(function(e){return"maxFaceCount"===e.key});return y.default.createElement("div",{className:v.default.baseView,ref:this.getViewDom},y.default.createElement("div",{style:{width:"100%"}},y.default.createElement(p.default,{layout:"inline"},y.default.createElement(l.default,{style:{marginTop:0}}),y.default.createElement(S,{level:3},y.default.createElement(h.FormattedMessage,{id:"oal.settings.photoSize"}),"(KB)"),y.default.createElement(p.default.Item,{label:(0,h.formatMessage)({id:"oal.common.minVal"}),name:"minSize"},t("minSize",{rules:[{validator:this.checkNum}],initialValue:n&&n.value&&n.value.min})(y.default.createElement(i.default,null))),y.default.createElement(p.default.Item,{label:(0,h.formatMessage)({id:"oal.common.maxVal"}),name:"maxSize"},t("maxSize",{rules:[{validator:this.checkNum}],initialValue:n&&n.value&&n.value.max})(y.default.createElement(i.default,null))),y.default.createElement(l.default,null),y.default.createElement(S,{level:3},y.default.createElement(h.FormattedMessage,{id:"oal.settings.libraryNumber"})),y.default.createElement(M,{label:(0,h.formatMessage)({id:"oal.common.maxVal"})},t("maxFaceCount",{rules:[{validator:this.checkNum}],initialValue:r&&r.value})(y.default.createElement(i.default,null))),y.default.createElement(l.default,null),y.default.createElement(o.default,{type:"primary",onClick:this.handlerSubmit},y.default.createElement(h.FormattedMessage,{id:"oal.common.save"})))))}}]),a}(y.Component),w=p.default.create()(C);t.default=w},"ldq+":function(e,t,a){"use strict";var n=a("tAuX"),r=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("Mwp2");var o=r(a("VXEj"));a("+L6B");var i=r(a("2/Rp"));a("J+/v");var l=r(a("MoRW"));a("T2oS");var s=r(a("W9HT"));a("P2fV");var u=r(a("NJEC"));a("miYZ");var c=r(a("tsqr")),f=r(a("2Taf")),d=r(a("vZ4D")),p=r(a("l4Ni")),m=r(a("ujKo")),y=r(a("MhPg")),g=n(a("q1tI")),v=a("Y2fQ");function h(e){return function(){var t,a=(0,m.default)(e);if(b()){var n=(0,m.default)(this).constructor;t=Reflect.construct(a,arguments,n)}else t=a.apply(this,arguments);return(0,p.default)(this,t)}}function b(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}var E=function(e){(0,y.default)(a,e);var t=h(a);function a(){var e;(0,f.default)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),e.state={},e.handleCopy=function(e){var t=document.getElementById("".concat(e));t.select();try{document.execCommand("copy",!1,null)?(document.execCommand("Copy"),c.default.success((0,v.formatMessage)({id:"oal.common.copySuccessfully"}))):c.default.error((0,v.formatMessage)({id:"oal.common.copyFailedTips"}))}catch(e){c.default.error((0,v.formatMessage)({id:"oal.common.copyFailedTips"}))}},e.handleReset=function(){var t=e.props.toReset;t()},e.setSecret=function(e){var t="";return e&&(t="".concat(e.substr(0,4),"********************************").concat(e.substr(e.length-4,e.length))),t},e.getData=function(t){return[{title:"key",description:g.default.createElement(g.Fragment,null,t.key),actions:[g.default.createElement("a",{href:"#",onClick:function(){return e.handleCopy("key")}},g.default.createElement(v.FormattedMessage,{id:"oal.common.copy"}))]},{title:(0,v.formatMessage)({id:"oal.settings.secretKey"}),description:g.default.createElement(g.Fragment,null,e.setSecret(t.secret)),actions:[g.default.createElement(u.default,{title:(0,v.formatMessage)({id:"oal.settings.confirmResetKey"}),okText:(0,v.formatMessage)({id:"oal.common.confirm"}),cancelText:(0,v.formatMessage)({id:"oal.common.cancel"}),onConfirm:function(){return e.handleReset()}},g.default.createElement("a",{href:"#"},g.default.createElement(v.FormattedMessage,{id:"oal.common.reset"}))),g.default.createElement("a",{key:"copy",onClick:function(){return e.handleCopy("secret")}},g.default.createElement(v.FormattedMessage,{id:"oal.common.copy"}))]}]},e}return(0,d.default)(a,[{key:"render",value:function(){var e=this.props,t=e.devInfo,a=e.toApply,n=e.loading;if(n)return g.default.createElement(l.default,{icon:g.default.createElement("div",null),extra:g.default.createElement(s.default,{size:"large"})});if(!t)return g.default.createElement(l.default,{status:"404",title:(0,v.formatMessage)({id:"oal.settings.noApplicationForDeveloperAccount"}),extra:g.default.createElement(i.default,{type:"primary",onClick:a},g.default.createElement(v.FormattedMessage,{id:"oal.settings.clickApplication"}))});var r=this.getData(t);return g.default.createElement(g.Fragment,null,g.default.createElement(o.default,{itemLayout:"horizontal",dataSource:r,renderItem:function(e){return g.default.createElement(o.default.Item,{actions:e.actions},g.default.createElement(o.default.Item.Meta,{title:e.title,description:e.description}))}}),g.default.createElement("input",{id:"key",defaultValue:t.key,style:{position:"absolute",top:"-999px",left:"-999px"}}),g.default.createElement("input",{id:"secret",defaultValue:t.secret,style:{position:"absolute",top:"-999px",left:"-999px"}}))}}]),a}(g.Component),S=E;t.default=S},s3tJ:function(e,t,a){"use strict";var n=a("tAuX"),r=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("Mwp2");var o=r(a("VXEj"));a("DZo9");var i=r(a("8z0m"));a("T2oS");var l=r(a("W9HT"));a("Telt");var s=r(a("Tckk"));a("/xke");var u=r(a("TeRw")),c=r(a("2Taf")),f=r(a("vZ4D")),d=r(a("l4Ni")),p=r(a("ujKo")),m=r(a("MhPg")),y=n(a("q1tI")),g=r(a("zwU1")),v=a("Y2fQ"),h=r(a("mW0K"));function b(e){return function(){var t,a=(0,p.default)(e);if(E()){var n=(0,p.default)(this).constructor;t=Reflect.construct(a,arguments,n)}else t=a.apply(this,arguments);return(0,d.default)(this,t)}}function E(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}var S=h.default.publicPath,M=function(e){(0,m.default)(a,e);var t=b(a);function a(){var e;(0,c.default)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),e.uploader=null,e.state={isUploading:!1},e.setUrl=function(e){if(!e)return"";var t=window.location.origin,a="".concat(t).concat(S,"user/").concat(e,"/login");return a},e.handleModify=function(){var t=e.props.openModal;t()},e.handleModifyIcons=function(t){e.props.updateSysIcons(t)},e.beforeUpload=function(t){console.log("\u4e0a\u4f20\u7684\u7cfb\u7edf\u56fe\u6807\u4fe1\u606f\uff1a",t.type,t.size);var a="image/jpeg"===t.type||"image/png"===t.type||"image/jpg"===t.type;a||u.default.error({message:(0,v.formatMessage)({id:"oal.face.failToUpload"}),description:(0,v.formatMessage)({id:"oal.face.uploadImageFormatLimit"})});var n=t.size/1024<240;return n||u.default.error({message:(0,v.formatMessage)({id:"oal.face.failToUpload"}),description:(0,v.formatMessage)({id:"oal.common.uploadImageSizeLimit"},{size:"240KB"})}),a&&n&&(e.setState({isUploading:!0}),e.wuInit(t)),!1},e.getData=function(t,a,n){var r=t&&t.org||{},o=[{title:(0,v.formatMessage)({id:"oal.settings.accessAddress"}),description:y.default.createElement(y.Fragment,null,e.setUrl(r&&r.path||"")),actions:[]}];return 0===t.type&&o.push({title:(0,v.formatMessage)({id:"oal.settings.sysname"}),description:y.default.createElement(y.Fragment,null,r.saasName),actions:[y.default.createElement("a",{key:"sysname",onClick:function(){return e.handleModify()}},y.default.createElement(v.FormattedMessage,{id:"oal.common.modify"}))]},{title:y.default.createElement(y.Fragment,null,y.default.createElement("span",{style:{marginRight:"16px"}},y.default.createElement(v.FormattedMessage,{id:"oal.settings.systemIcons"})),y.default.createElement(s.default,{src:r&&r.saasIconsUrl||g.default})),description:"",actions:[y.default.createElement(i.default,{name:"saasIcons",accept:".png, .jpg, .jpeg",showUploadList:!1,action:"/guard-web/a/fileResource/upload",withCredentials:!0,beforeUpload:e.beforeUpload,disabled:n},n?y.default.createElement(l.default,null):y.default.createElement("a",{key:"saasIcons",disabled:e.state.isUploading},y.default.createElement(v.FormattedMessage,{id:"oal.common.modify"})))]}),o.push({title:(0,v.formatMessage)({id:"oal.settings.systemVersion"}),description:y.default.createElement(y.Fragment,null,a),actions:[]}),o},e.wuInit=function(t){e.uploader&&e.wuDestroy();var a=e.props.orgId;e.uploader=window.WebUploader.create({swf:("production"===Object({NODE_ENV:"production"})?S:"/")+"lib/webuploader/Uploader.swf",server:"/guard-web/a/fileResource/upload",thumb:!1,compress:!1,prepareNextFile:!0,chunked:!0});var n=new window.WebUploader.Lib.File(window.WebUploader.guid("rt_"),t),r=new window.WebUploader.File(n);r.orgId=a,e.uploader.addFiles(r),n=null,r=null,e.wuUpload()},e.wuUpload=function(){if(!e.uploader)return!1;e.uploader.on("uploadBeforeSend",function(e,t){t.md5=e.file.md5,t.orgId=e.file.orgId}),e.uploader.on("uploadError",function(t,a){console.log("".concat(t.name," : ").concat(a)),u.default.error({message:(0,v.formatMessage)({id:"oal.face.failToUpload"})}),e.wuDestroy(),e.setState({isUploading:!1})}),e.uploader.on("uploadSuccess",function(t,a){var n=a.res,r=a.data,o=a.msg,i=a.errcode;n>0&&r&&r.saasIconsUrl?(e.handleModifyIcons(r.saasIconsUrl),e.wuDestroy(),e.setState({isUploading:!1})):0===n||"upload_chunk"===o||200===i||(n<0||/false/i.test(o)||500===i)&&(u.default.error({message:(0,v.formatMessage)({id:"oal.face.failToUpload"})}),e.wuDestroy(),e.setState({isUploading:!1}))}),e.uploader.on("error",function(t){console.log("errorType\uff1a",t),u.default.error({message:(0,v.formatMessage)({id:"oal.face.failToUpload"})}),e.wuDestroy(),e.setState({isUploading:!1})}),e.uploader.upload()},e.wuDestroy=function(){if(!e.uploader)return!1;e.uploader.destroy(),e.uploader=null},e}return(0,f.default)(a,[{key:"render",value:function(){var e=this.props,t=e.currentUser,a=e.version,n=this.state.isUploading,r=this.getData(t,a,n);return y.default.createElement(y.Fragment,null,y.default.createElement(o.default,{itemLayout:"horizontal",dataSource:r,renderItem:function(e){return y.default.createElement(o.default.Item,{actions:e.actions},y.default.createElement(o.default.Item.Meta,{title:e.title,description:e.description}))}}))}}]),a}(y.Component),C=M;t.default=C},tU7J:function(e,t,a){"use strict";a.r(t);a("cIOH"),a("/qDX"),a("5Dmo"),a("5NDa")},wFql:function(e,t,a){"use strict";a.r(t);var n=a("q1tI"),r=a("TSYQ"),o=a.n(r),i=a("H84U"),l=a("6CfX");function s(e){"@babel/helpers - typeof";return s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function u(e,t){"function"===typeof e?e(t):"object"===s(e)&&e&&"current"in e&&(e.current=t)}function c(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return function(e){t.forEach(function(t){u(t,e)})}}function f(e){"@babel/helpers - typeof";return f="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function m(e,t,a){return t&&p(e.prototype,t),a&&p(e,a),e}function y(e){return function(){var t,a=b(e);if(h()){var n=b(this).constructor;t=Reflect.construct(a,arguments,n)}else t=a.apply(this,arguments);return g(this,t)}}function g(e,t){return!t||"object"!==f(t)&&"function"!==typeof t?v(e):t}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}function E(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}function S(e,t){return S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},S(e,t)}function M(){return M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},M.apply(this,arguments)}var C,w=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a},x=function(e,t){var a=e.prefixCls,r=e.component,s=void 0===r?"article":r,u=e.className,f=e["aria-label"],d=e.setContentRef,p=e.children,m=w(e,["prefixCls","component","className","aria-label","setContentRef","children"]),y=t;return d&&(Object(l["a"])(!1,"Typography","`setContentRef` is deprecated. Please use `ref` instead."),y=c(t,d)),n["createElement"](i["a"],null,function(e){var t=e.getPrefixCls,r=s,i=t("typography",a);return n["createElement"](r,M({className:o()(i,u),"aria-label":f,ref:y},m),p)})};if(n["forwardRef"])C=n["forwardRef"](x),C.displayName="Typography";else{var O=function(e){E(a,e);var t=y(a);function a(){var e;return d(this,a),e=t.apply(this,arguments),e.state={},e}return m(a,[{key:"render",value:function(){return n["createElement"](x,this.props)}}]),a}(n["Component"]);C=O}var k=C,P=k,I=a("VCL8"),N=a("Zm9Q"),R=a("m+aA"),j=a("+QRC"),D=a.n(j),T=a("BGR+"),V=a("t23M"),A=a.n(V),F=a("wEI+"),_=a("YMnH"),U=a("gDlH"),L=a("oHiP"),K=a("R3zJ"),q=a("CtXQ"),B=a("3S7+"),Q=a("4IlW"),z=a("whJP");function H(e){"@babel/helpers - typeof";return H="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},H(e)}function Y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function W(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function X(e,t,a){return t&&W(e.prototype,t),a&&W(e,a),e}function Z(e){return function(){var t,a=ee(e);if(G()){var n=ee(this).constructor;t=Reflect.construct(a,arguments,n)}else t=a.apply(this,arguments);return $(this,t)}}function $(e,t){return!t||"object"!==H(t)&&"function"!==typeof t?J(e):t}function J(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function G(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function ee(e){return ee=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ee(e)}function te(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ae(e,t)}function ae(e,t){return ae=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ae(e,t)}var ne=function(e){te(a,e);var t=Z(a);function a(){var e;return Y(this,a),e=t.apply(this,arguments),e.inComposition=!1,e.state={current:""},e.onChange=function(t){var a=t.target.value;e.setState({current:a.replace(/[\r\n]/g,"")})},e.onCompositionStart=function(){e.inComposition=!0},e.onCompositionEnd=function(){e.inComposition=!1},e.onKeyDown=function(t){var a=t.keyCode;e.inComposition||(e.lastKeyCode=a)},e.onKeyUp=function(t){var a=t.keyCode,n=t.ctrlKey,r=t.altKey,o=t.metaKey,i=t.shiftKey,l=e.props.onCancel;e.lastKeyCode!==a||e.inComposition||n||r||o||i||(a===Q["a"].ENTER?e.confirmChange():a===Q["a"].ESC&&l())},e.onBlur=function(){e.confirmChange()},e.confirmChange=function(){var t=e.state.current,a=e.props.onSave;a(t.trim())},e.setTextarea=function(t){e.textarea=t},e}return X(a,[{key:"componentDidMount",value:function(){if(this.textarea&&this.textarea.resizableTextArea){var e=this.textarea.resizableTextArea.textArea;e.focus();var t=e.value.length;e.setSelectionRange(t,t)}}},{key:"render",value:function(){var e=this.state.current,t=this.props,a=t.prefixCls,r=t["aria-label"],i=t.className,l=t.style;return n["createElement"]("div",{className:o()(a,"".concat(a,"-edit-content"),i),style:l},n["createElement"](z["a"],{ref:this.setTextarea,value:e,onChange:this.onChange,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,onCompositionStart:this.onCompositionStart,onCompositionEnd:this.onCompositionEnd,onBlur:this.onBlur,"aria-label":r,autoSize:!0}),n["createElement"](q["default"],{type:"enter",className:"".concat(a,"-edit-content-confirm")}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a=t.prevValue,n=e.value,r={prevValue:n};return a!==n&&(r.current=n),r}}]),a}(n["Component"]);Object(I["polyfill"])(ne);var re,oe=ne,ie=a("i8i4"),le=1,se=3,ue=8,ce={padding:0,margin:0,display:"inline",lineHeight:"inherit"};function fe(e){if(!e)return 0;var t=e.match(/^\d*(\.\d*)?/);return t?Number(t[0]):0}function de(e){var t=Array.prototype.slice.apply(e);return t.map(function(t){return"".concat(t,": ").concat(e.getPropertyValue(t),";")}).join("")}function pe(e){var t=[];return e.forEach(function(e){var a=t[t.length-1];"string"===typeof e&&"string"===typeof a?t[t.length-1]+=e:t.push(e)}),t}var me=function(e,t,a,r,o){re||(re=document.createElement("div"),re.setAttribute("aria-hidden","true"),document.body.appendChild(re));var i=window.getComputedStyle(e),l=de(i),s=fe(i.lineHeight),u=s*(t+1)+fe(i.paddingTop)+fe(i.paddingBottom);re.setAttribute("style",l),re.style.position="fixed",re.style.left="0",re.style.height="auto",re.style.minHeight="auto",re.style.maxHeight="auto",re.style.top="-999999px",re.style.zIndex="-1000",re.style.textOverflow="clip",re.style.whiteSpace="normal",re.style.webkitLineClamp="none";var c=pe(Object(N["a"])(a));function f(){return re.offsetHeight<u}if(Object(ie["render"])(n["createElement"]("div",{style:ce},n["createElement"]("span",{style:ce},c),n["createElement"]("span",{style:ce},r)),re),f())return Object(ie["unmountComponentAtNode"])(re),{content:a,text:re.innerHTML,ellipsis:!1};var d=Array.prototype.slice.apply(re.childNodes[0].childNodes[0].cloneNode(!0).childNodes).filter(function(e){var t=e.nodeType;return t!==ue}),p=Array.prototype.slice.apply(re.childNodes[0].childNodes[1].cloneNode(!0).childNodes);Object(ie["unmountComponentAtNode"])(re);var m=[];re.innerHTML="";var y=document.createElement("span");re.appendChild(y);var g=document.createTextNode(o);function v(e){y.insertBefore(e,g)}function h(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.length,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=Math.floor((a+n)/2),i=t.slice(0,o);if(e.textContent=i,a>=n-1)for(var l=n;l>=a;l-=1){var s=t.slice(0,l);if(e.textContent=s,f())return l===t.length?{finished:!1,reactNode:t}:{finished:!0,reactNode:s}}return f()?h(e,t,o,n,o):h(e,t,a,o,r)}function b(e,t){var a=e.nodeType;if(a===le)return v(e),f()?{finished:!1,reactNode:c[t]}:(y.removeChild(e),{finished:!0,reactNode:null});if(a===se){var n=e.textContent||"",r=document.createTextNode(n);return v(r),h(r,n)}return{finished:!1,reactNode:null}}return y.appendChild(g),p.forEach(function(e){re.appendChild(e)}),d.some(function(e,t){var a=b(e,t),n=a.finished,r=a.reactNode;return r&&m.push(r),n}),{content:m,text:re.innerHTML,ellipsis:!0}};function ye(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function ge(e){return Ee(e)||be(e)||he(e)||ve()}function ve(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function he(e,t){if(e){if("string"===typeof e)return Se(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(a):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Se(e,t):void 0}}function be(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function Ee(e){if(Array.isArray(e))return Se(e)}function Se(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function Me(e){"@babel/helpers - typeof";return Me="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Me(e)}function Ce(){return Ce=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Ce.apply(this,arguments)}function we(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xe(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Oe(e,t,a){return t&&xe(e.prototype,t),a&&xe(e,a),e}function ke(e){return function(){var t,a=Re(e);if(Ne()){var n=Re(this).constructor;t=Reflect.construct(a,arguments,n)}else t=a.apply(this,arguments);return Pe(this,t)}}function Pe(e,t){return!t||"object"!==Me(t)&&"function"!==typeof t?Ie(e):t}function Ie(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ne(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function Re(e){return Re=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Re(e)}function je(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&De(e,t)}function De(e,t){return De=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},De(e,t)}var Te=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a},Ve=Object(K["a"])("webkitLineClamp"),Ae=Object(K["a"])("textOverflow");function Fe(e,t){var a=e.mark,r=e.code,o=e.underline,i=e["delete"],l=e.strong,s=t;function u(e,t){e&&(s=n["createElement"](t,{},s))}return u(l,"strong"),u(o,"u"),u(i,"del"),u(r,"code"),u(a,"mark"),s}var _e="...",Ue=function(e){je(a,e);var t=ke(a);function a(){var e;return we(this,a),e=t.apply(this,arguments),e.state={edit:!1,copied:!1,ellipsisText:"",ellipsisContent:null,isEllipsis:!1,expanded:!1,clientRendered:!1},e.onExpandClick=function(){var t=e.getEllipsis(),a=t.onExpand;e.setState({expanded:!0}),a&&a()},e.onEditClick=function(){e.triggerEdit(!0)},e.onEditChange=function(t){var a=e.getEditable(),n=a.onChange;n&&n(t),e.triggerEdit(!1)},e.onEditCancel=function(){e.triggerEdit(!1)},e.onCopyClick=function(){var t=e.props,a=t.children,n=t.copyable,r=Ce({},"object"===Me(n)?n:null);void 0===r.text&&(r.text=String(a)),D()(r.text||""),e.setState({copied:!0},function(){r.onCopy&&r.onCopy(),e.copyId=window.setTimeout(function(){e.setState({copied:!1})},3e3)})},e.setContentRef=function(t){e.content=t},e.setEditRef=function(t){e.editIcon=t},e.triggerEdit=function(t){var a=e.getEditable(),n=a.onStart;t&&n&&n(),e.setState({edit:t},function(){!t&&e.editIcon&&e.editIcon.focus()})},e.resizeOnNextFrame=function(){L["a"].cancel(e.rafId),e.rafId=Object(L["a"])(function(){e.syncEllipsis()})},e}return Oe(a,[{key:"componentDidMount",value:function(){this.setState({clientRendered:!0}),this.resizeOnNextFrame()}},{key:"componentDidUpdate",value:function(e){var t=this.props.children,a=this.getEllipsis(),n=this.getEllipsis(e);t===e.children&&a.rows===n.rows||this.resizeOnNextFrame()}},{key:"componentWillUnmount",value:function(){window.clearTimeout(this.copyId),L["a"].cancel(this.rafId)}},{key:"getEditable",value:function(e){var t=this.state.edit,a=e||this.props,n=a.editable;return n?Ce({editing:t},"object"===Me(n)?n:null):{editing:t}}},{key:"getEllipsis",value:function(e){var t=e||this.props,a=t.ellipsis;return a?Ce({rows:1,expandable:!1},"object"===Me(a)?a:null):{}}},{key:"canUseCSSEllipsis",value:function(){var e=this.state.clientRendered,t=this.props,a=t.editable,n=t.copyable,r=this.getEllipsis(),o=r.rows,i=r.expandable;return!(a||n||i||!e)&&(1===o?Ae:Ve)}},{key:"syncEllipsis",value:function(){var e=this.state,t=e.ellipsisText,a=e.isEllipsis,n=e.expanded,r=this.getEllipsis(),o=r.rows,i=this.props.children;if(o&&!(o<0)&&this.content&&!n&&!this.canUseCSSEllipsis()){Object(l["a"])(Object(N["a"])(i).every(function(e){return"string"===typeof e}),"Typography","`ellipsis` should use string as children only.");var s=me(Object(R["a"])(this.content),o,i,this.renderOperations(!0),_e),u=s.content,c=s.text,f=s.ellipsis;t===c&&a===f||this.setState({ellipsisText:c,ellipsisContent:u,isEllipsis:f})}}},{key:"renderExpand",value:function(e){var t=this.getEllipsis(),a=t.expandable,r=this.props.prefixCls,o=this.state,i=o.expanded,l=o.isEllipsis;return a&&(e||!i&&l)?n["createElement"]("a",{key:"expand",className:"".concat(r,"-expand"),onClick:this.onExpandClick,"aria-label":this.expandStr},this.expandStr):null}},{key:"renderEdit",value:function(){var e=this.props,t=e.editable,a=e.prefixCls;if(t)return n["createElement"](B["default"],{key:"edit",title:this.editStr},n["createElement"](U["a"],{ref:this.setEditRef,className:"".concat(a,"-edit"),onClick:this.onEditClick,"aria-label":this.editStr},n["createElement"](q["default"],{role:"button",type:"edit"})))}},{key:"renderCopy",value:function(){var e=this.state.copied,t=this.props,a=t.copyable,r=t.prefixCls;if(a){var i=e?this.copiedStr:this.copyStr;return n["createElement"](B["default"],{key:"copy",title:i},n["createElement"](U["a"],{className:o()("".concat(r,"-copy"),e&&"".concat(r,"-copy-success")),onClick:this.onCopyClick,"aria-label":i},n["createElement"](q["default"],{role:"button",type:e?"check":"copy"})))}}},{key:"renderEditInput",value:function(){var e=this.props,t=e.children,a=e.prefixCls,r=e.className,o=e.style;return n["createElement"](oe,{value:"string"===typeof t?t:"",onSave:this.onEditChange,onCancel:this.onEditCancel,prefixCls:a,className:r,style:o})}},{key:"renderOperations",value:function(e){return[this.renderExpand(e),this.renderEdit(),this.renderCopy()].filter(function(e){return e})}},{key:"renderContent",value:function(){var e=this,t=this.state,a=t.ellipsisContent,r=t.isEllipsis,i=t.expanded,l=this.props,s=l.component,u=l.children,c=l.className,f=l.prefixCls,d=l.type,p=l.disabled,m=l.style,y=Te(l,["component","children","className","prefixCls","type","disabled","style"]),g=this.getEllipsis(),v=g.rows,h=Object(T["default"])(y,["prefixCls","editable","copyable","ellipsis","mark","underline","mark","code","delete","underline","strong"].concat(ge(F["a"]))),b=this.canUseCSSEllipsis(),E=1===v&&b,S=v&&v>1&&b,M=u,C=null;return v&&r&&!i&&!b&&(C=String(u),M=n["createElement"]("span",{title:String(u),"aria-hidden":"true"},a,_e)),M=Fe(this.props,M),n["createElement"](_["a"],{componentName:"Text"},function(t){var a,r=t.edit,i=t.copy,l=t.copied,u=t.expand;return e.editStr=r,e.copyStr=i,e.copiedStr=l,e.expandStr=u,n["createElement"](A.a,{onResize:e.resizeOnNextFrame,disabled:!v},n["createElement"](P,Ce({className:o()(c,(a={},ye(a,"".concat(f,"-").concat(d),d),ye(a,"".concat(f,"-disabled"),p),ye(a,"".concat(f,"-ellipsis"),v),ye(a,"".concat(f,"-ellipsis-single-line"),E),ye(a,"".concat(f,"-ellipsis-multiple-line"),S),a)),style:Ce(Ce({},m),{WebkitLineClamp:S?v:null}),component:s,ref:e.setContentRef,"aria-label":C},h),M,e.renderOperations()))})}},{key:"render",value:function(){var e=this.getEditable(),t=e.editing;return t?this.renderEditInput():this.renderContent()}}],[{key:"getDerivedStateFromProps",value:function(e){var t=e.children,a=e.editable;return Object(l["a"])(!a||"string"===typeof t,"Typography","When `editable` is enabled, the `children` should use string."),{}}}]),a}(n["Component"]);Ue.defaultProps={children:""},Object(I["polyfill"])(Ue);var Le=Object(i["c"])({prefixCls:"typography"})(Ue);function Ke(){return Ke=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Ke.apply(this,arguments)}function qe(e){"@babel/helpers - typeof";return qe="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qe(e)}var Be=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a},Qe=function(e){var t=e.ellipsis,a=Be(e,["ellipsis"]);return Object(l["a"])("object"!==qe(t),"Typography.Text","`ellipsis` only supports boolean value."),n["createElement"](Le,Ke({},a,{ellipsis:!!t,component:"span"}))},ze=Qe,He=a("2W6z"),Ye=a.n(He),We=a("CWQg");function Xe(){return Xe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Xe.apply(this,arguments)}var Ze=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a},$e=Object(We["b"])(1,2,3,4),Je=function(e){var t,a=e.level,r=void 0===a?1:a,o=Ze(e,["level"]);return-1!==$e.indexOf(r)?t="h".concat(r):(Ye()(!1,"Title only accept `1 | 2 | 3 | 4` as `level` value."),t="h1"),n["createElement"](Le,Xe({},o,{component:t}))},Ge=Je;function et(){return et=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},et.apply(this,arguments)}var tt=function(e){return n["createElement"](Le,et({},e,{component:"div"}))},at=tt,nt=P;nt.Text=ze,nt.Title=Ge,nt.Paragraph=at;t["default"]=nt}}]);